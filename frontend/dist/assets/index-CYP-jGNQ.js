import{j as t,E as Lo,a as Vo,T as et,P as yt,B as xn,b as Et,F as $o,c as pn,d as gn,e as Wo,S as Bo,f as qo,g as de,L as yn,h as vn,C as bn,R as Ho,i as Pe,k as Ns,l as Ar,I as Rr,M as Uo,A as Gt,W as Yo,m as zo,U as wn,n as Ko,o as Qo,Q as Xo,p as Go,q as Jo,r as jn,u as Me,s as Ss,t as Ce,v as Ot,w as Nn,x as oe,y as Sn,z as nr,D as Zo,G as ei,H as ti,J as si,K as ri,N as ni,O as ai,V as fs,X as kn,Y as oi,Z as ii,_ as At,$ as ci,a0 as li,a1 as di,a2 as ui,a3 as fi,a4 as mi,a5 as hi,a6 as xi,a7 as pi,a8 as gi,a9 as yi,aa as vi,ab as bi}from"./ui-eEE2x_4N.js";import{a as Jt,r as l,b as be}from"./vendor-BsK_Cp9f.js";import{u as rt,L as Ct,a as ar,N as Ge,O as wi,R as ji,b as Se,c as Cn,B as Ni}from"./router-BKRCgtnQ.js";import{u as Mt,a as Tn,b as Pn,Q as Si,c as ki}from"./query-BGxdtzq1.js";import{a as Rt,t as Ci,c as En}from"./utils-D_-nE_3Z.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var qs={},Dr=Jt;qs.createRoot=Dr.createRoot,qs.hydrateRoot=Dr.hydrateRoot;const Ir={adminUser:{id:"1",email:"admin@test.com",name:"관리자",role:"admin"}},or=l.createContext({user:null,loading:!1,isAuthenticated:!1,login:async()=>{},logout:()=>{}});function Ti({children:e}){const[s,r]=l.useState(Ir.adminUser),[n,a]=l.useState(!1),[o,i]=l.useState(!0);be.useEffect(()=>{localStorage.setItem("token","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5MGVkMWUxYS01MmRmLTQ5YWQtYjVjZS1mNzU4NWJhMmU4N2MiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NDk0NDkzMDUsImV4cCI6MTc0OTUzNTcwNX0.bog0K2gs20lCencl4gQrGNB8y1_ueZX4MeP0l2yU4SA")},[]);const d={user:s,loading:n,isAuthenticated:o,login:async(f,x)=>{a(!0),await new Promise(g=>setTimeout(g,500)),r(Ir.adminUser),i(!0),a(!1)},logout:()=>{r(null),i(!1)}};return t.jsx(or.Provider,{value:d,children:e})}function An(){const e=l.useContext(or);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const Rn=l.createContext(void 0),Pi=3e3;function Ei({children:e}){const[s,r]=l.useState([]),n=(i,c="info")=>{const u=Date.now().toString();r(d=>[...d,{id:u,message:i,type:c}]),setTimeout(()=>{a(u)},Pi)},a=i=>{r(c=>c.filter(u=>u.id!==i))},o=i=>({success:"toast toast-success",error:"toast toast-error",info:"toast toast-info"})[i];return t.jsxs(Rn.Provider,{value:{toast:n,toasts:s,removeToast:a},children:[e,t.jsx("div",{className:"toast-container",children:s.map(i=>t.jsx("div",{className:o(i.type),children:i.message},i.id))})]})}function Be(){const e=l.useContext(Rn);if(!e)throw new Error("useToastContext must be used within a ToastProvider");return e}var Zt=e=>e.type==="checkbox",vt=e=>e instanceof Date,Ee=e=>e==null;const Dn=e=>typeof e=="object";var pe=e=>!Ee(e)&&!Array.isArray(e)&&Dn(e)&&!vt(e),Ai=e=>pe(e)&&e.target?Zt(e.target)?e.target.checked:e.target.value:e,Ri=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Di=(e,s)=>e.has(Ri(s)),Ii=e=>{const s=e.constructor&&e.constructor.prototype;return pe(s)&&s.hasOwnProperty("isPrototypeOf")},ir=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ke(e){let s;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(ir&&(e instanceof Blob||n))&&(r||pe(e)))if(s=r?[]:{},!r&&!Ii(e))s=e;else for(const a in e)e.hasOwnProperty(a)&&(s[a]=ke(e[a]));else return e;return s}var ks=e=>Array.isArray(e)?e.filter(Boolean):[],ye=e=>e===void 0,B=(e,s,r)=>{if(!s||!pe(e))return r;const n=ks(s.split(/[,[\].]+?/)).reduce((a,o)=>Ee(a)?a:a[o],e);return ye(n)||n===e?ye(e[s])?r:e[s]:n},Ue=e=>typeof e=="boolean",cr=e=>/^\w*$/.test(e),In=e=>ks(e.replace(/["|']|\]/g,"").split(/\.|\[/)),fe=(e,s,r)=>{let n=-1;const a=cr(s)?[s]:In(s),o=a.length,i=o-1;for(;++n<o;){const c=a[n];let u=r;if(n!==i){const d=e[c];u=pe(d)||Array.isArray(d)?d:isNaN(+a[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=u,e=e[c]}};const Or={BLUR:"blur",FOCUS_OUT:"focusout"},Fe={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Je={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};be.createContext(null);var Oi=(e,s,r,n=!0)=>{const a={defaultValues:s._defaultValues};for(const o in e)Object.defineProperty(a,o,{get:()=>{const i=o;return s._proxyFormState[i]!==Fe.all&&(s._proxyFormState[i]=!n||Fe.all),e[i]}});return a};const Mi=typeof window<"u"?l.useLayoutEffect:l.useEffect;var Ye=e=>typeof e=="string",_i=(e,s,r,n,a)=>Ye(e)?(n&&s.watch.add(e),B(r,e,a)):Array.isArray(e)?e.map(o=>(n&&s.watch.add(o),B(r,o))):(n&&(s.watchAll=!0),r),Fi=(e,s,r,n,a)=>s?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Ut=e=>Array.isArray(e)?e:[e],Mr=()=>{let e=[];return{get observers(){return e},next:a=>{for(const o of e)o.next&&o.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(o=>o!==a)}}),unsubscribe:()=>{e=[]}}},Hs=e=>Ee(e)||!Dn(e);function ct(e,s){if(Hs(e)||Hs(s))return e===s;if(vt(e)&&vt(s))return e.getTime()===s.getTime();const r=Object.keys(e),n=Object.keys(s);if(r.length!==n.length)return!1;for(const a of r){const o=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const i=s[a];if(vt(o)&&vt(i)||pe(o)&&pe(i)||Array.isArray(o)&&Array.isArray(i)?!ct(o,i):o!==i)return!1}}return!0}var Ae=e=>pe(e)&&!Object.keys(e).length,lr=e=>e.type==="file",Le=e=>typeof e=="function",ms=e=>{if(!ir)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},On=e=>e.type==="select-multiple",dr=e=>e.type==="radio",Li=e=>dr(e)||Zt(e),Fs=e=>ms(e)&&e.isConnected;function Vi(e,s){const r=s.slice(0,-1).length;let n=0;for(;n<r;)e=ye(e)?n++:e[s[n++]];return e}function $i(e){for(const s in e)if(e.hasOwnProperty(s)&&!ye(e[s]))return!1;return!0}function ve(e,s){const r=Array.isArray(s)?s:cr(s)?[s]:In(s),n=r.length===1?e:Vi(e,r),a=r.length-1,o=r[a];return n&&delete n[o],a!==0&&(pe(n)&&Ae(n)||Array.isArray(n)&&$i(n))&&ve(e,r.slice(0,-1)),e}var Mn=e=>{for(const s in e)if(Le(e[s]))return!0;return!1};function hs(e,s={}){const r=Array.isArray(e);if(pe(e)||r)for(const n in e)Array.isArray(e[n])||pe(e[n])&&!Mn(e[n])?(s[n]=Array.isArray(e[n])?[]:{},hs(e[n],s[n])):Ee(e[n])||(s[n]=!0);return s}function _n(e,s,r){const n=Array.isArray(e);if(pe(e)||n)for(const a in e)Array.isArray(e[a])||pe(e[a])&&!Mn(e[a])?ye(s)||Hs(r[a])?r[a]=Array.isArray(e[a])?hs(e[a],[]):{...hs(e[a])}:_n(e[a],Ee(s)?{}:s[a],r[a]):r[a]=!ct(e[a],s[a]);return r}var $t=(e,s)=>_n(e,s,hs(s));const _r={value:!1,isValid:!1},Fr={value:!0,isValid:!0};var Fn=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ye(e[0].attributes.value)?ye(e[0].value)||e[0].value===""?Fr:{value:e[0].value,isValid:!0}:Fr:_r}return _r},Ln=(e,{valueAsNumber:s,valueAsDate:r,setValueAs:n})=>ye(e)?e:s?e===""?NaN:e&&+e:r&&Ye(e)?new Date(e):n?n(e):e;const Lr={isValid:!1,value:null};var Vn=e=>Array.isArray(e)?e.reduce((s,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:s,Lr):Lr;function Vr(e){const s=e.ref;return lr(s)?s.files:dr(s)?Vn(e.refs).value:On(s)?[...s.selectedOptions].map(({value:r})=>r):Zt(s)?Fn(e.refs).value:Ln(ye(s.value)?e.ref.value:s.value,e)}var Wi=(e,s,r,n)=>{const a={};for(const o of e){const i=B(s,o);i&&fe(a,o,i._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},xs=e=>e instanceof RegExp,Wt=e=>ye(e)?e:xs(e)?e.source:pe(e)?xs(e.value)?e.value.source:e.value:e,$r=e=>({isOnSubmit:!e||e===Fe.onSubmit,isOnBlur:e===Fe.onBlur,isOnChange:e===Fe.onChange,isOnAll:e===Fe.all,isOnTouch:e===Fe.onTouched});const Wr="AsyncFunction";var Bi=e=>!!e&&!!e.validate&&!!(Le(e.validate)&&e.validate.constructor.name===Wr||pe(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===Wr)),qi=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Br=(e,s,r)=>!r&&(s.watchAll||s.watch.has(e)||[...s.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Yt=(e,s,r,n)=>{for(const a of r||Object.keys(e)){const o=B(e,a);if(o){const{_f:i,...c}=o;if(i){if(i.refs&&i.refs[0]&&s(i.refs[0],a)&&!n)return!0;if(i.ref&&s(i.ref,i.name)&&!n)return!0;if(Yt(c,s))break}else if(pe(c)&&Yt(c,s))break}}};function qr(e,s,r){const n=B(e,r);if(n||cr(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const o=a.join("."),i=B(s,o),c=B(e,o);if(i&&!Array.isArray(i)&&r!==o)return{name:r};if(c&&c.type)return{name:o,error:c};if(c&&c.root&&c.root.type)return{name:`${o}.root`,error:c.root};a.pop()}return{name:r}}var Hi=(e,s,r,n)=>{r(e);const{name:a,...o}=e;return Ae(o)||Object.keys(o).length>=Object.keys(s).length||Object.keys(o).find(i=>s[i]===(!n||Fe.all))},Ui=(e,s,r)=>!e||!s||e===s||Ut(e).some(n=>n&&(r?n===s:n.startsWith(s)||s.startsWith(n))),Yi=(e,s,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(s||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,zi=(e,s)=>!ks(B(e,s)).length&&ve(e,s),Ki=(e,s,r)=>{const n=Ut(B(e,r));return fe(n,"root",s[r]),fe(e,r,n),e},cs=e=>Ye(e);function Hr(e,s,r="validate"){if(cs(e)||Array.isArray(e)&&e.every(cs)||Ue(e)&&!e)return{type:r,message:cs(e)?e:"",ref:s}}var Tt=e=>pe(e)&&!xs(e)?e:{value:e,message:""},Ur=async(e,s,r,n,a,o)=>{const{ref:i,refs:c,required:u,maxLength:d,minLength:f,min:x,max:g,pattern:y,validate:v,name:p,valueAsNumber:b,mount:N}=e._f,m=B(r,p);if(!N||s.has(p))return{};const j=c?c[0]:i,P=I=>{a&&j.reportValidity&&(j.setCustomValidity(Ue(I)?"":I||""),j.reportValidity())},S={},O=dr(i),D=Zt(i),H=O||D,Y=(b||lr(i))&&ye(i.value)&&ye(m)||ms(i)&&i.value===""||m===""||Array.isArray(m)&&!m.length,K=Fi.bind(null,p,n,S),z=(I,M,E,V=Je.maxLength,F=Je.minLength)=>{const q=I?M:E;S[p]={type:I?V:F,message:q,ref:i,...K(I?V:F,q)}};if(o?!Array.isArray(m)||!m.length:u&&(!H&&(Y||Ee(m))||Ue(m)&&!m||D&&!Fn(c).isValid||O&&!Vn(c).isValid)){const{value:I,message:M}=cs(u)?{value:!!u,message:u}:Tt(u);if(I&&(S[p]={type:Je.required,message:M,ref:j,...K(Je.required,M)},!n))return P(M),S}if(!Y&&(!Ee(x)||!Ee(g))){let I,M;const E=Tt(g),V=Tt(x);if(!Ee(m)&&!isNaN(m)){const F=i.valueAsNumber||m&&+m;Ee(E.value)||(I=F>E.value),Ee(V.value)||(M=F<V.value)}else{const F=i.valueAsDate||new Date(m),q=ue=>new Date(new Date().toDateString()+" "+ue),$=i.type=="time",X=i.type=="week";Ye(E.value)&&m&&(I=$?q(m)>q(E.value):X?m>E.value:F>new Date(E.value)),Ye(V.value)&&m&&(M=$?q(m)<q(V.value):X?m<V.value:F<new Date(V.value))}if((I||M)&&(z(!!I,E.message,V.message,Je.max,Je.min),!n))return P(S[p].message),S}if((d||f)&&!Y&&(Ye(m)||o&&Array.isArray(m))){const I=Tt(d),M=Tt(f),E=!Ee(I.value)&&m.length>+I.value,V=!Ee(M.value)&&m.length<+M.value;if((E||V)&&(z(E,I.message,M.message),!n))return P(S[p].message),S}if(y&&!Y&&Ye(m)){const{value:I,message:M}=Tt(y);if(xs(I)&&!m.match(I)&&(S[p]={type:Je.pattern,message:M,ref:i,...K(Je.pattern,M)},!n))return P(M),S}if(v){if(Le(v)){const I=await v(m,r),M=Hr(I,j);if(M&&(S[p]={...M,...K(Je.validate,M.message)},!n))return P(M.message),S}else if(pe(v)){let I={};for(const M in v){if(!Ae(I)&&!n)break;const E=Hr(await v[M](m,r),j,M);E&&(I={...E,...K(M,E.message)},P(E.message),n&&(S[p]=I))}if(!Ae(I)&&(S[p]={ref:j,...I},!n))return S}}return P(!0),S};const Qi={mode:Fe.onSubmit,reValidateMode:Fe.onChange,shouldFocusError:!0};function Xi(e={}){let s={...Qi,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Le(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1};const n={};let a=pe(s.defaultValues)||pe(s.values)?ke(s.defaultValues||s.values)||{}:{},o=s.shouldUnregister?{}:ke(a),i={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...f};const g={array:Mr(),state:Mr()},y=s.criteriaMode===Fe.all,v=h=>w=>{clearTimeout(d),d=setTimeout(h,w)},p=async h=>{if(!s.disabled&&(f.isValid||x.isValid||h)){const w=s.resolver?Ae((await D()).errors):await Y(n,!0);w!==r.isValid&&g.state.next({isValid:w})}},b=(h,w)=>{!s.disabled&&(f.isValidating||f.validatingFields||x.isValidating||x.validatingFields)&&((h||Array.from(c.mount)).forEach(C=>{C&&(w?fe(r.validatingFields,C,w):ve(r.validatingFields,C))}),g.state.next({validatingFields:r.validatingFields,isValidating:!Ae(r.validatingFields)}))},N=(h,w=[],C,_,R=!0,A=!0)=>{if(_&&C&&!s.disabled){if(i.action=!0,A&&Array.isArray(B(n,h))){const U=C(B(n,h),_.argA,_.argB);R&&fe(n,h,U)}if(A&&Array.isArray(B(r.errors,h))){const U=C(B(r.errors,h),_.argA,_.argB);R&&fe(r.errors,h,U),zi(r.errors,h)}if((f.touchedFields||x.touchedFields)&&A&&Array.isArray(B(r.touchedFields,h))){const U=C(B(r.touchedFields,h),_.argA,_.argB);R&&fe(r.touchedFields,h,U)}(f.dirtyFields||x.dirtyFields)&&(r.dirtyFields=$t(a,o)),g.state.next({name:h,isDirty:z(h,w),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else fe(o,h,w)},m=(h,w)=>{fe(r.errors,h,w),g.state.next({errors:r.errors})},j=h=>{r.errors=h,g.state.next({errors:r.errors,isValid:!1})},P=(h,w,C,_)=>{const R=B(n,h);if(R){const A=B(o,h,ye(C)?B(a,h):C);ye(A)||_&&_.defaultChecked||w?fe(o,h,w?A:Vr(R._f)):E(h,A),i.mount&&p()}},S=(h,w,C,_,R)=>{let A=!1,U=!1;const re={name:h};if(!s.disabled){if(!C||_){(f.isDirty||x.isDirty)&&(U=r.isDirty,r.isDirty=re.isDirty=z(),A=U!==re.isDirty);const ce=ct(B(a,h),w);U=!!B(r.dirtyFields,h),ce?ve(r.dirtyFields,h):fe(r.dirtyFields,h,!0),re.dirtyFields=r.dirtyFields,A=A||(f.dirtyFields||x.dirtyFields)&&U!==!ce}if(C){const ce=B(r.touchedFields,h);ce||(fe(r.touchedFields,h,C),re.touchedFields=r.touchedFields,A=A||(f.touchedFields||x.touchedFields)&&ce!==C)}A&&R&&g.state.next(re)}return A?re:{}},O=(h,w,C,_)=>{const R=B(r.errors,h),A=(f.isValid||x.isValid)&&Ue(w)&&r.isValid!==w;if(s.delayError&&C?(u=v(()=>m(h,C)),u(s.delayError)):(clearTimeout(d),u=null,C?fe(r.errors,h,C):ve(r.errors,h)),(C?!ct(R,C):R)||!Ae(_)||A){const U={..._,...A&&Ue(w)?{isValid:w}:{},errors:r.errors,name:h};r={...r,...U},g.state.next(U)}},D=async h=>{b(h,!0);const w=await s.resolver(o,s.context,Wi(h||c.mount,n,s.criteriaMode,s.shouldUseNativeValidation));return b(h),w},H=async h=>{const{errors:w}=await D(h);if(h)for(const C of h){const _=B(w,C);_?fe(r.errors,C,_):ve(r.errors,C)}else r.errors=w;return w},Y=async(h,w,C={valid:!0})=>{for(const _ in h){const R=h[_];if(R){const{_f:A,...U}=R;if(A){const re=c.array.has(A.name),ce=R._f&&Bi(R._f);ce&&f.validatingFields&&b([_],!0);const Oe=await Ur(R,c.disabled,o,y,s.shouldUseNativeValidation&&!w,re);if(ce&&f.validatingFields&&b([_]),Oe[A.name]&&(C.valid=!1,w))break;!w&&(B(Oe,A.name)?re?Ki(r.errors,Oe,A.name):fe(r.errors,A.name,Oe[A.name]):ve(r.errors,A.name))}!Ae(U)&&await Y(U,w,C)}}return C.valid},K=()=>{for(const h of c.unMount){const w=B(n,h);w&&(w._f.refs?w._f.refs.every(C=>!Fs(C)):!Fs(w._f.ref))&&k(h)}c.unMount=new Set},z=(h,w)=>!s.disabled&&(h&&w&&fe(o,h,w),!ct(ue(),a)),I=(h,w,C)=>_i(h,c,{...i.mount?o:ye(w)?a:Ye(h)?{[h]:w}:w},C,w),M=h=>ks(B(i.mount?o:a,h,s.shouldUnregister?B(a,h,[]):[])),E=(h,w,C={})=>{const _=B(n,h);let R=w;if(_){const A=_._f;A&&(!A.disabled&&fe(o,h,Ln(w,A)),R=ms(A.ref)&&Ee(w)?"":w,On(A.ref)?[...A.ref.options].forEach(U=>U.selected=R.includes(U.value)):A.refs?Zt(A.ref)?A.refs.forEach(U=>{(!U.defaultChecked||!U.disabled)&&(Array.isArray(R)?U.checked=!!R.find(re=>re===U.value):U.checked=R===U.value||!!R)}):A.refs.forEach(U=>U.checked=U.value===R):lr(A.ref)?A.ref.value="":(A.ref.value=R,A.ref.type||g.state.next({name:h,values:ke(o)})))}(C.shouldDirty||C.shouldTouch)&&S(h,R,C.shouldTouch,C.shouldDirty,!0),C.shouldValidate&&X(h)},V=(h,w,C)=>{for(const _ in w){if(!w.hasOwnProperty(_))return;const R=w[_],A=h+"."+_,U=B(n,A);(c.array.has(h)||pe(R)||U&&!U._f)&&!vt(R)?V(A,R,C):E(A,R,C)}},F=(h,w,C={})=>{const _=B(n,h),R=c.array.has(h),A=ke(w);fe(o,h,A),R?(g.array.next({name:h,values:ke(o)}),(f.isDirty||f.dirtyFields||x.isDirty||x.dirtyFields)&&C.shouldDirty&&g.state.next({name:h,dirtyFields:$t(a,o),isDirty:z(h,A)})):_&&!_._f&&!Ee(A)?V(h,A,C):E(h,A,C),Br(h,c)&&g.state.next({...r}),g.state.next({name:i.mount?h:void 0,values:ke(o)})},q=async h=>{i.mount=!0;const w=h.target;let C=w.name,_=!0;const R=B(n,C),A=ce=>{_=Number.isNaN(ce)||vt(ce)&&isNaN(ce.getTime())||ct(ce,B(o,C,ce))},U=$r(s.mode),re=$r(s.reValidateMode);if(R){let ce,Oe;const ss=w.type?Vr(R._f):Ai(h),at=h.type===Or.BLUR||h.type===Or.FOCUS_OUT,Mo=!qi(R._f)&&!s.resolver&&!B(r.errors,C)&&!R._f.deps||Yi(at,B(r.touchedFields,C),r.isSubmitted,re,U),Ms=Br(C,c,at);fe(o,C,ss),at?(R._f.onBlur&&R._f.onBlur(h),u&&u(0)):R._f.onChange&&R._f.onChange(h);const _s=S(C,ss,at),_o=!Ae(_s)||Ms;if(!at&&g.state.next({name:C,type:h.type,values:ke(o)}),Mo)return(f.isValid||x.isValid)&&(s.mode==="onBlur"?at&&p():at||p()),_o&&g.state.next({name:C,...Ms?{}:_s});if(!at&&Ms&&g.state.next({...r}),s.resolver){const{errors:Pr}=await D([C]);if(A(ss),_){const Fo=qr(r.errors,n,C),Er=qr(Pr,n,Fo.name||C);ce=Er.error,C=Er.name,Oe=Ae(Pr)}}else b([C],!0),ce=(await Ur(R,c.disabled,o,y,s.shouldUseNativeValidation))[C],b([C]),A(ss),_&&(ce?Oe=!1:(f.isValid||x.isValid)&&(Oe=await Y(n,!0)));_&&(R._f.deps&&X(R._f.deps),O(C,Oe,ce,_s))}},$=(h,w)=>{if(B(r.errors,w)&&h.focus)return h.focus(),1},X=async(h,w={})=>{let C,_;const R=Ut(h);if(s.resolver){const A=await H(ye(h)?h:R);C=Ae(A),_=h?!R.some(U=>B(A,U)):C}else h?(_=(await Promise.all(R.map(async A=>{const U=B(n,A);return await Y(U&&U._f?{[A]:U}:U)}))).every(Boolean),!(!_&&!r.isValid)&&p()):_=C=await Y(n);return g.state.next({...!Ye(h)||(f.isValid||x.isValid)&&C!==r.isValid?{}:{name:h},...s.resolver||!h?{isValid:C}:{},errors:r.errors}),w.shouldFocus&&!_&&Yt(n,$,h?R:c.mount),_},ue=h=>{const w={...i.mount?o:a};return ye(h)?w:Ye(h)?B(w,h):h.map(C=>B(w,C))},ge=(h,w)=>({invalid:!!B((w||r).errors,h),isDirty:!!B((w||r).dirtyFields,h),error:B((w||r).errors,h),isValidating:!!B(r.validatingFields,h),isTouched:!!B((w||r).touchedFields,h)}),we=h=>{h&&Ut(h).forEach(w=>ve(r.errors,w)),g.state.next({errors:h?r.errors:{}})},je=(h,w,C)=>{const _=(B(n,h,{_f:{}})._f||{}).ref,R=B(r.errors,h)||{},{ref:A,message:U,type:re,...ce}=R;fe(r.errors,h,{...ce,...w,ref:_}),g.state.next({name:h,errors:r.errors,isValid:!1}),C&&C.shouldFocus&&_&&_.focus&&_.focus()},W=(h,w)=>Le(h)?g.state.subscribe({next:C=>h(I(void 0,w),C)}):I(h,w,!0),G=h=>g.state.subscribe({next:w=>{Ui(h.name,w.name,h.exact)&&Hi(w,h.formState||f,xt,h.reRenderRoot)&&h.callback({values:{...o},...r,...w})}}).unsubscribe,T=h=>(i.mount=!0,x={...x,...h.formState},G({...h,formState:x})),k=(h,w={})=>{for(const C of h?Ut(h):c.mount)c.mount.delete(C),c.array.delete(C),w.keepValue||(ve(n,C),ve(o,C)),!w.keepError&&ve(r.errors,C),!w.keepDirty&&ve(r.dirtyFields,C),!w.keepTouched&&ve(r.touchedFields,C),!w.keepIsValidating&&ve(r.validatingFields,C),!s.shouldUnregister&&!w.keepDefaultValue&&ve(a,C);g.state.next({values:ke(o)}),g.state.next({...r,...w.keepDirty?{isDirty:z()}:{}}),!w.keepIsValid&&p()},L=({disabled:h,name:w})=>{(Ue(h)&&i.mount||h||c.disabled.has(w))&&(h?c.disabled.add(w):c.disabled.delete(w))},J=(h,w={})=>{let C=B(n,h);const _=Ue(w.disabled)||Ue(s.disabled);return fe(n,h,{...C||{},_f:{...C&&C._f?C._f:{ref:{name:h}},name:h,mount:!0,...w}}),c.mount.add(h),C?L({disabled:Ue(w.disabled)?w.disabled:s.disabled,name:h}):P(h,!0,w.value),{..._?{disabled:w.disabled||s.disabled}:{},...s.progressive?{required:!!w.required,min:Wt(w.min),max:Wt(w.max),minLength:Wt(w.minLength),maxLength:Wt(w.maxLength),pattern:Wt(w.pattern)}:{},name:h,onChange:q,onBlur:q,ref:R=>{if(R){J(h,w),C=B(n,h);const A=ye(R.value)&&R.querySelectorAll&&R.querySelectorAll("input,select,textarea")[0]||R,U=Li(A),re=C._f.refs||[];if(U?re.find(ce=>ce===A):A===C._f.ref)return;fe(n,h,{_f:{...C._f,...U?{refs:[...re.filter(Fs),A,...Array.isArray(B(a,h))?[{}]:[]],ref:{type:A.type,name:h}}:{ref:A}}}),P(h,!1,void 0,A)}else C=B(n,h,{}),C._f&&(C._f.mount=!1),(s.shouldUnregister||w.shouldUnregister)&&!(Di(c.array,h)&&i.action)&&c.unMount.add(h)}}},Q=()=>s.shouldFocusError&&Yt(n,$,c.mount),Z=h=>{Ue(h)&&(g.state.next({disabled:h}),Yt(n,(w,C)=>{const _=B(n,C);_&&(w.disabled=_._f.disabled||h,Array.isArray(_._f.refs)&&_._f.refs.forEach(R=>{R.disabled=_._f.disabled||h}))},0,!1))},te=(h,w)=>async C=>{let _;C&&(C.preventDefault&&C.preventDefault(),C.persist&&C.persist());let R=ke(o);if(g.state.next({isSubmitting:!0}),s.resolver){const{errors:A,values:U}=await D();r.errors=A,R=U}else await Y(n);if(c.disabled.size)for(const A of c.disabled)fe(R,A,void 0);if(ve(r.errors,"root"),Ae(r.errors)){g.state.next({errors:{}});try{await h(R,C)}catch(A){_=A}}else w&&await w({...r.errors},C),Q(),setTimeout(Q);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ae(r.errors)&&!_,submitCount:r.submitCount+1,errors:r.errors}),_)throw _},Te=(h,w={})=>{B(n,h)&&(ye(w.defaultValue)?F(h,ke(B(a,h))):(F(h,w.defaultValue),fe(a,h,ke(w.defaultValue))),w.keepTouched||ve(r.touchedFields,h),w.keepDirty||(ve(r.dirtyFields,h),r.isDirty=w.defaultValue?z(h,ke(B(a,h))):z()),w.keepError||(ve(r.errors,h),f.isValid&&p()),g.state.next({...r}))},Re=(h,w={})=>{const C=h?ke(h):a,_=ke(C),R=Ae(h),A=R?a:_;if(w.keepDefaultValues||(a=C),!w.keepValues){if(w.keepDirtyValues){const U=new Set([...c.mount,...Object.keys($t(a,o))]);for(const re of Array.from(U))B(r.dirtyFields,re)?fe(A,re,B(o,re)):F(re,B(A,re))}else{if(ir&&ye(h))for(const U of c.mount){const re=B(n,U);if(re&&re._f){const ce=Array.isArray(re._f.refs)?re._f.refs[0]:re._f.ref;if(ms(ce)){const Oe=ce.closest("form");if(Oe){Oe.reset();break}}}}for(const U of c.mount)F(U,B(A,U))}o=ke(A),g.array.next({values:{...A}}),g.state.next({values:{...A}})}c={mount:w.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!f.isValid||!!w.keepIsValid||!!w.keepDirtyValues,i.watch=!!s.shouldUnregister,g.state.next({submitCount:w.keepSubmitCount?r.submitCount:0,isDirty:R?!1:w.keepDirty?r.isDirty:!!(w.keepDefaultValues&&!ct(h,a)),isSubmitted:w.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:R?{}:w.keepDirtyValues?w.keepDefaultValues&&o?$t(a,o):r.dirtyFields:w.keepDefaultValues&&h?$t(a,h):w.keepDirty?r.dirtyFields:{},touchedFields:w.keepTouched?r.touchedFields:{},errors:w.keepErrors?r.errors:{},isSubmitSuccessful:w.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},nt=(h,w)=>Re(Le(h)?h(o):h,w),ht=(h,w={})=>{const C=B(n,h),_=C&&C._f;if(_){const R=_.refs?_.refs[0]:_.ref;R.focus&&(R.focus(),w.shouldSelect&&Le(R.select)&&R.select())}},xt=h=>{r={...r,...h}},pt={control:{register:J,unregister:k,getFieldState:ge,handleSubmit:te,setError:je,_subscribe:G,_runSchema:D,_focusError:Q,_getWatch:I,_getDirty:z,_setValid:p,_setFieldArray:N,_setDisabledField:L,_setErrors:j,_getFieldArray:M,_reset:Re,_resetDefaultValues:()=>Le(s.defaultValues)&&s.defaultValues().then(h=>{nt(h,s.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:K,_disableForm:Z,_subjects:g,_proxyFormState:f,get _fields(){return n},get _formValues(){return o},get _state(){return i},set _state(h){i=h},get _defaultValues(){return a},get _names(){return c},set _names(h){c=h},get _formState(){return r},get _options(){return s},set _options(h){s={...s,...h}}},subscribe:T,trigger:X,register:J,handleSubmit:te,watch:W,setValue:F,getValues:ue,reset:nt,resetField:Te,clearErrors:we,unregister:k,setError:je,setFocus:ht,getFieldState:ge};return{...pt,formControl:pt}}function ur(e={}){const s=be.useRef(void 0),r=be.useRef(void 0),[n,a]=be.useState({isDirty:!1,isValidating:!1,isLoading:Le(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Le(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...e.formControl?e.formControl:Xi(e),formState:n},e.formControl&&e.defaultValues&&!Le(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const o=s.current.control;return o._options=e,Mi(()=>{const i=o._subscribe({formState:o._proxyFormState,callback:()=>a({...o._formState}),reRenderRoot:!0});return a(c=>({...c,isReady:!0})),o._formState.isReady=!0,i},[o]),be.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),be.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),be.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),be.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),be.useEffect(()=>{if(o._proxyFormState.isDirty){const i=o._getDirty();i!==n.isDirty&&o._subjects.state.next({isDirty:i})}},[o,n.isDirty]),be.useEffect(()=>{e.values&&!ct(e.values,r.current)?(o._reset(e.values,o._options.resetOptions),r.current=e.values,a(i=>({...i}))):o._resetDefaultValues()},[o,e.values]),be.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),s.current.formState=Oi(n,o),s.current}const ut=()=>l.useContext(or),Gi=()=>{const{login:e,loading:s}=ut(),r=rt(),[n,a]=l.useState(!1),[o,i]=l.useState(null),{register:c,handleSubmit:u,formState:{errors:d}}=ur(),f=async x=>{try{i(null),await e(x.email,x.password),r("/")}catch(g){i("이메일 또는 비밀번호가 올바르지 않습니다."),console.error("로그인 오류:",g)}};return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-md w-full space-y-8",children:[t.jsxs("div",{children:[t.jsx("img",{className:"mx-auto h-12 w-auto",src:"/logo.svg",alt:"교보문고 핫트랙스"}),t.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"송도점 재고관리 시스템"}),t.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"계정 정보로 로그인하세요"})]}),t.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u(f),children:[t.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"sr-only",children:"이메일"}),t.jsx("input",{id:"email",type:"email",autoComplete:"email",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-kyobo focus:border-kyobo focus:z-10 sm:text-sm",placeholder:"이메일",...c("email",{required:"이메일을 입력해주세요",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"유효한 이메일 주소를 입력해주세요"}})}),d.email&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.email.message})]}),t.jsxs("div",{className:"relative",children:[t.jsx("label",{htmlFor:"password",className:"sr-only",children:"비밀번호"}),t.jsx("input",{id:"password",type:n?"text":"password",autoComplete:"current-password",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-kyobo focus:border-kyobo focus:z-10 sm:text-sm",placeholder:"비밀번호",...c("password",{required:"비밀번호를 입력해주세요"})}),t.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!n),children:n?t.jsx(Lo,{className:"h-5 w-5 text-gray-400"}):t.jsx(Vo,{className:"h-5 w-5 text-gray-400"})}),d.password&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.password.message})]})]}),o&&t.jsx("div",{className:"rounded-md bg-red-50 p-4",children:t.jsx("div",{className:"flex",children:t.jsx("div",{className:"ml-3",children:t.jsx("h3",{className:"text-sm font-medium text-red-800",children:o})})})}),t.jsx("div",{children:t.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-kyobo hover:bg-kyobo-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-kyobo disabled:opacity-50 disabled:cursor-not-allowed",children:s?"로그인 중...":"로그인"})}),t.jsxs("div",{className:"text-sm text-center",children:[t.jsx("p",{className:"text-gray-600",children:"테스트 계정: admin@kyobobook.com / admin123"}),t.jsx("p",{className:"text-gray-600",children:"직원 계정: staff@kyobobook.com / staff123"})]})]})]})})},$n="http://localhost:3001/api",He=Rt.create({baseURL:$n,withCredentials:!1});He.interceptors.request.use(e=>{const s=localStorage.getItem("token");return s&&(e.headers.Authorization=`Bearer ${s}`),e},e=>Promise.reject(e));He.interceptors.response.use(e=>e,e=>{var s;return((s=e.response)==null?void 0:s.status)===401&&localStorage.removeItem("token"),Promise.reject(e)});const Ve={async getProducts(e){try{return(await He.get("/products",{params:e})).data.data}catch(s){throw console.error("제품 목록 조회 오류:",s),s}},async getProduct(e){try{return(await He.get(`/products/${e}`)).data.data}catch(s){throw console.error("제품 상세 조회 오류:",s),s}},async createProduct(e){try{return(await He.post("/products",e)).data.data}catch(s){throw console.error("제품 생성 오류:",s),s}},async updateProduct(e,s){try{return(await He.put(`/products/${e}`,s)).data.data}catch(r){throw console.error("제품 수정 오류:",r),r}},async deleteProduct(e){try{await He.delete(`/products/${e}`)}catch(s){throw console.error("제품 삭제 오류:",s),s}},async adjustInventory(e,s,r){try{return(await He.post(`/products/${e}/adjust`,{quantity:s,memo:r})).data.data}catch(n){throw console.error("재고 조정 오류:",n),n}},async moveLocation(e,s){try{return(await He.post(`/products/${e}/move`,{toLocation:s})).data.data}catch(r){throw console.error("위치 이동 오류:",r),r}},async bulkUpload(e){try{const s=new FormData;s.append("file",e);const r=await He.post("/products/bulk-upload",s,{headers:{"Content-Type":"multipart/form-data"}});return{success:r.data.success,failed:r.data.failed,errors:r.data.errors}}catch(s){throw console.error("대량 업로드 오류:",s),s}},getExportUrl(e){const s=new URLSearchParams;return e&&Object.entries(e).forEach(([r,n])=>{n!==void 0&&n!==""&&s.append(r,n.toString())}),`${$n}/products/export?${s.toString()}`}};class Ji{constructor(){this.dbName="kyoboInventoryDB",this.storeName="offlineChanges",this.db=null}async initDB(){return new Promise((s,r)=>{const n=indexedDB.open(this.dbName,1);n.onerror=()=>r(n.error),n.onsuccess=()=>{this.db=n.result,s()},n.onupgradeneeded=a=>{const o=a.target.result;o.objectStoreNames.contains(this.storeName)||o.createObjectStore(this.storeName,{keyPath:"id",autoIncrement:!0})}})}async saveChange(s){return this.db||await this.initDB(),new Promise((r,n)=>{const i=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).add({...s,timestamp:new Date().toISOString()});i.onsuccess=()=>r(),i.onerror=()=>n(i.error)})}async getChanges(){return this.db||await this.initDB(),new Promise((s,r)=>{const o=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).getAll();o.onsuccess=()=>s(o.result),o.onerror=()=>r(o.error)})}async clearChanges(){return this.db||await this.initDB(),new Promise((s,r)=>{const o=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).clear();o.onsuccess=()=>s(),o.onerror=()=>r(o.error)})}async queueInventoryAdjustment(s,r,n){const a={type:"inventory_adjustment",data:{productId:s,quantity:r,memo:n}};return this.saveChange(a)}async queueLocationMove(s,r){const n={type:"location_move",data:{productId:s,toLocation:r}};return this.saveChange(n)}async safeProcessChanges(s){try{const r=await this.getChanges();return await s(r)}catch(r){return console.error("Changes processing failed:",r),null}}async getChangesByType(s){return(await this.getChanges()).filter(n=>n.type===s).map(n=>({...n.data,timestamp:n.timestamp}))}}const zt=new Ji;function Wn(){const[e,s]=l.useState(navigator.onLine),[r,n]=l.useState(!1),{toast:a}=Be();l.useEffect(()=>{const c=()=>{s(!0),a("온라인 상태로 전환되었습니다","info"),o()},u=()=>{s(!1),a("오프라인 상태로 전환되었습니다. 변경사항이 로컬에 저장됩니다.","error")};return window.addEventListener("online",c),window.addEventListener("offline",u),()=>{window.removeEventListener("online",c),window.removeEventListener("offline",u)}},[]);const o=l.useCallback(async()=>{if(navigator.onLine)try{n(!0);const c=await zt.getChanges();if(c.length===0)return;for(const u of c)try{switch(u.type){case"CREATE":await fetch("/api/products",{method:"POST",body:JSON.stringify(u.data),headers:{"Content-Type":"application/json"}});break;case"UPDATE":await fetch(`/api/products/${u.data.id}`,{method:"PUT",body:JSON.stringify(u.data),headers:{"Content-Type":"application/json"}});break;case"DELETE":await fetch(`/api/products/${u.data.id}`,{method:"DELETE"});break}}catch(d){console.error("Error syncing change:",d);const f=d instanceof Error?d.message:"알 수 없는 오류가 발생했습니다";a(`변경사항 동기화 중 오류가 발생했습니다: ${f}`,"error")}await zt.clearChanges(),a(`${c.length}개의 변경사항이 동기화되었습니다.`,"success")}catch(c){console.error("Error during sync:",c),a("변경사항 동기화 중 오류가 발생했습니다.","error")}finally{n(!1)}},[]),i=l.useCallback(async(c,u)=>{try{await zt.saveChange({type:c,data:u}),a("오프라인 변경사항이 저장되었습니다. 온라인 상태가 되면 자동으로 동기화됩니다.","info")}catch(d){console.error("Error saving offline change:",d),a("오프라인 변경사항을 저장하는 중 오류가 발생했습니다.","error")}},[]);return{isOnline:e,isSyncing:r,saveOfflineChange:i,syncChanges:o}}function ie(...e){return Ci(En(e))}const se=l.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:ie("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));se.displayName="Card";const me=l.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:ie("flex flex-col space-y-1.5 p-6",e),...s}));me.displayName="CardHeader";const he=l.forwardRef(({className:e,...s},r)=>t.jsx("h3",{ref:r,className:ie("text-lg font-semibold leading-none tracking-tight",e),...s}));he.displayName="CardTitle";const Zi=l.forwardRef(({className:e,...s},r)=>t.jsx("p",{ref:r,className:ie("text-sm text-muted-foreground",e),...s}));Zi.displayName="CardDescription";const ae=l.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:ie("p-6 pt-0",e),...s}));ae.displayName="CardContent";const Dt=l.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:ie("flex items-center p-6 pt-0",e),...s}));Dt.displayName="CardFooter";const ec=()=>{const e=rt(),{user:s}=ut(),{isOnline:r,syncChanges:n}=Wn();l.useEffect(()=>{r&&n()},[r,n]);const{data:a=[],isLoading:o,error:i}=Mt({queryKey:["products",{lowStock:!1}],queryFn:()=>Ve.getProducts()}),{data:c=[]}=Mt({queryKey:["products",{lowStock:!0}],queryFn:()=>Ve.getProducts({lowStock:!0})}),u=a.length,d=a.reduce((y,v)=>y+v.quantity,0),f=c.length;[...new Set(a.map(y=>y.category))].length;const x=a.slice(0,5);a.reduce((y,v)=>y+(v.quantity||0),0);const g=a.length>0?a.reduce((y,v)=>y+(v.price||0),0)/a.length:0;return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4 md:mb-0",children:"대시보드"}),t.jsx("div",{className:"flex space-x-2",children:t.jsx("button",{onClick:()=>e("/barcode"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-kyobo hover:bg-kyobo-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-kyobo",children:"바코드 스캔"})})]}),!r&&t.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",children:t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(et,{className:"h-5 w-5 text-yellow-400"})}),t.jsx("div",{className:"ml-3",children:t.jsx("p",{className:"text-sm text-yellow-700",children:"현재 오프라인 상태입니다. 일부 기능이 제한될 수 있으며, 변경사항은 온라인 연결 시 자동으로 동기화됩니다."})})]})}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4 mb-8",children:[t.jsx(se,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"p-3 bg-blue-100 rounded-lg dark:bg-blue-900",children:t.jsx(yt,{className:"w-6 h-6 text-blue-600 dark:text-blue-300"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"총 제품 수"}),t.jsx("h3",{className:"text-2xl font-semibold",children:u.toLocaleString()})]})]})}),t.jsx(se,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"p-3 bg-green-100 rounded-lg dark:bg-green-900",children:t.jsx(xn,{className:"w-6 h-6 text-green-600 dark:text-green-300"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"총 재고량"}),t.jsx("h3",{className:"text-2xl font-semibold",children:d.toLocaleString()})]})]})}),t.jsx(se,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg dark:bg-yellow-900",children:t.jsx(et,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-300"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"저재고 제품"}),t.jsx("h3",{className:"text-2xl font-semibold",children:f.toLocaleString()})]})]})}),t.jsx(se,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"p-3 bg-purple-100 rounded-lg dark:bg-purple-900",children:t.jsx(Et,{className:"w-6 h-6 text-purple-600 dark:text-purple-300"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"평균 가격"}),t.jsx("h3",{className:"text-2xl font-semibold",children:g.toLocaleString(void 0,{style:"currency",currency:"KRW"})})]})]})})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow mb-8",children:[t.jsx("div",{className:"px-4 py-5 border-b border-gray-200 sm:px-6",children:t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"저재고 알림"})}),t.jsx("div",{className:"p-4",children:o?t.jsx("div",{className:"flex justify-center items-center h-32",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-kyobo"})}):c.length===0?t.jsx("p",{className:"text-gray-500 text-center py-8",children:"저재고 상품이 없습니다."}):t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"상품명"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"위치"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"재고/안전재고"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"작업"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.slice(0,5).map(y=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:y.name}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y.sku}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y.location}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[y.quantity," / ",y.safetyStock]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.jsx("button",{onClick:()=>e(`/products/${y.id}/adjust`),className:"text-kyobo hover:text-kyobo-dark",children:"입고 처리"})})]},y.id))})]}),c.length>5&&t.jsx("div",{className:"px-6 py-3 text-center",children:t.jsxs("button",{onClick:()=>e("/products?lowStock=true"),className:"text-sm text-kyobo hover:text-kyobo-dark",children:["모든 저재고 상품 보기 (",c.length,")"]})})]})})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow",children:[t.jsx("div",{className:"px-4 py-5 border-b border-gray-200 sm:px-6",children:t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"최근 추가된 제품"})}),t.jsx("div",{className:"p-4",children:o?t.jsx("div",{className:"flex justify-center items-center h-32",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-kyobo"})}):x.length===0?t.jsx("p",{className:"text-gray-500 text-center py-8",children:"최근 추가된 제품이 없습니다."}):t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"상품명"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"카테고리"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"위치"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"재고"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(y=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.jsx("a",{href:`/products/${y.id}`,className:"text-kyobo hover:underline",children:y.name})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y.sku}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y.category}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y.location}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y.quantity})]},y.id))})]}),t.jsx("div",{className:"px-6 py-3 text-center",children:t.jsx("button",{onClick:()=>e("/products"),className:"text-sm text-kyobo hover:text-kyobo-dark",children:"모든 제품 보기"})})]})})]})]})})},tc=()=>{const{user:e}=ut(),s=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="ADMIN",[r,n]=l.useState({search:"",category:"",brand:"",location:"",lowStock:!1}),[a,o]=l.useState([]),[i,c]=l.useState([]),[u,d]=l.useState([]),{data:f=[],isLoading:x,error:g,refetch:y}=Mt({queryKey:["products",r],queryFn:()=>Ve.getProducts(r)});l.useEffect(()=>{if(f.length>0){const m=[...new Set(f.map(S=>S.category))],j=[...new Set(f.map(S=>S.brand))],P=[...new Set(f.map(S=>S.location))];o(m),c(j),d(P)}},[f]);const v=m=>{n(j=>({...j,search:m.target.value}))},p=m=>{const{name:j,value:P}=m.target;n(S=>({...S,[j]:P}))},b=m=>{n(j=>({...j,lowStock:m.target.checked}))},N=()=>{const m=Ve.getExportUrl(r);window.open(m,"_blank")};return t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4 md:mb-0",children:"제품 관리"}),t.jsx("div",{className:"flex flex-col sm:flex-row gap-2",children:s&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:N,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[t.jsx($o,{className:"h-4 w-4 mr-2"}),"CSV 내보내기"]}),t.jsxs(Ct,{to:"/products/upload",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[t.jsx(pn,{className:"h-4 w-4 mr-2"}),"대량 업로드"]}),t.jsxs(Ct,{to:"/products/new",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-kyobo hover:bg-kyobo-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-kyobo",children:[t.jsx(gn,{className:"h-4 w-4 mr-2"}),"신규 제품"]})]})})]}),t.jsxs("div",{className:"bg-white shadow rounded-lg mb-6",children:[t.jsx("div",{className:"p-4 border-b border-gray-200",children:t.jsxs("h2",{className:"text-lg font-medium text-gray-900 flex items-center",children:[t.jsx(Wo,{className:"h-5 w-5 mr-2 text-gray-500"}),"검색 및 필터"]})}),t.jsx("div",{className:"p-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(Bo,{className:"h-5 w-5 text-gray-400"})}),t.jsx("input",{type:"text",name:"search",value:r.search,onChange:v,placeholder:"상품명 또는 SKU 검색",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-kyobo focus:border-kyobo sm:text-sm"})]}),t.jsx("div",{children:t.jsxs("select",{name:"category",value:r.category,onChange:p,className:"block w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-kyobo focus:border-kyobo sm:text-sm",children:[t.jsx("option",{value:"",children:"모든 카테고리"}),a.map(m=>t.jsx("option",{value:m,children:m},m))]})}),t.jsx("div",{children:t.jsxs("select",{name:"brand",value:r.brand,onChange:p,className:"block w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-kyobo focus:border-kyobo sm:text-sm",children:[t.jsx("option",{value:"",children:"모든 브랜드"}),i.map(m=>t.jsx("option",{value:m,children:m},m))]})}),t.jsx("div",{children:t.jsxs("select",{name:"location",value:r.location,onChange:p,className:"block w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-kyobo focus:border-kyobo sm:text-sm",children:[t.jsx("option",{value:"",children:"모든 위치"}),u.map(m=>t.jsx("option",{value:m,children:m},m))]})}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{id:"lowStock",name:"lowStock",type:"checkbox",checked:r.lowStock,onChange:b,className:"h-4 w-4 text-kyobo focus:ring-kyobo border-gray-300 rounded"}),t.jsx("label",{htmlFor:"lowStock",className:"ml-2 block text-sm text-gray-900",children:"저재고 상품만 보기"})]})]})})]}),x?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-kyobo"})}):g?t.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(et,{className:"h-5 w-5 text-red-400"})}),t.jsx("div",{className:"ml-3",children:t.jsx("p",{className:"text-sm text-red-700",children:"제품 목록을 불러오는 중 오류가 발생했습니다. 다시 시도해주세요."})})]})}):t.jsx(t.Fragment,{children:f.length===0?t.jsx("div",{className:"bg-white shadow rounded-lg p-6 text-center",children:t.jsx("p",{className:"text-gray-500",children:"검색 결과가 없습니다."})}):t.jsx("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"상품명"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"카테고리"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"브랜드"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"위치"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"수량"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"단가"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"작업"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(m=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:m.sku}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.jsx(Ct,{to:`/products/${m.id}`,className:"text-kyobo hover:underline",children:m.name})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.category}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.brand}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.location}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.quantity<=m.safetyStock?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:[m.quantity," / ",m.safetyStock]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[m.price.toLocaleString(),"원"]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(Ct,{to:`/products/${m.id}`,className:"text-indigo-600 hover:text-indigo-900",children:"상세"}),t.jsx(Ct,{to:`/products/${m.id}/adjust`,className:"text-green-600 hover:text-green-900",children:"입/출고"}),t.jsx(Ct,{to:`/products/${m.id}/move`,className:"text-blue-600 hover:text-blue-900",children:"위치변경"})]})})]},m.id))})]})})})})]})},sc="http://localhost:3001/api",Ne=Rt.create({baseURL:sc,withCredentials:!1});Ne.interceptors.request.use(e=>{const s=localStorage.getItem("token");return s&&s.trim()!==""&&(e.headers.Authorization=`Bearer ${s}`),e},e=>Promise.reject(e));Ne.interceptors.response.use(e=>e,e=>{var s;return((s=e.response)==null?void 0:s.status)===401&&localStorage.removeItem("token"),Promise.reject(e)});const Yr=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,zr=En,Bn=(e,s)=>r=>{var n;if((s==null?void 0:s.variants)==null)return zr(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:o}=s,i=Object.keys(a).map(d=>{const f=r==null?void 0:r[d],x=o==null?void 0:o[d];if(f===null)return null;const g=Yr(f)||Yr(x);return a[d][g]}),c=r&&Object.entries(r).reduce((d,f)=>{let[x,g]=f;return g===void 0||(d[x]=g),d},{}),u=s==null||(n=s.compoundVariants)===null||n===void 0?void 0:n.reduce((d,f)=>{let{class:x,className:g,...y}=f;return Object.entries(y).every(v=>{let[p,b]=v;return Array.isArray(b)?b.includes({...o,...c}[p]):{...o,...c}[p]===b})?[...d,x,g]:d},[]);return zr(e,i,u,r==null?void 0:r.class,r==null?void 0:r.className)},rc=Bn("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),xe=l.forwardRef(({className:e,variant:s,size:r,asChild:n=!1,...a},o)=>{const i=n?qo:"button";return t.jsx(i,{className:ie(rc({variant:s,size:r,className:e})),ref:o,...a})});xe.displayName="Button";const le=l.forwardRef(({className:e,type:s="text",...r},n)=>t.jsx("input",{type:s,className:ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));le.displayName="Input";var nc="Label",qn=l.forwardRef((e,s)=>t.jsx(de.label,{...e,ref:s,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));qn.displayName=nc;var Hn=qn;const ee=l.forwardRef(({className:e,...s},r)=>t.jsx(Hn,{ref:r,className:ie("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...s}));ee.displayName=Hn.displayName;const Un=Ho,fr=l.forwardRef(({className:e,...s},r)=>t.jsx(yn,{ref:r,className:ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));fr.displayName=yn.displayName;const bt=l.forwardRef(({className:e,...s},r)=>t.jsx(vn,{ref:r,className:ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=inactive]:text-muted-foreground",e),...s}));bt.displayName=vn.displayName;const wt=l.forwardRef(({className:e,...s},r)=>t.jsx(bn,{ref:r,className:ie("ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));wt.displayName=bn.displayName;const ac=()=>{const{id:e}=ar(),s=rt(),{toast:r}=Be(),{user:n}=ut(),[a,o]=l.useState(null),[i,c]=l.useState(!0),[u,d]=l.useState(!1),[f,x]=l.useState("details"),[g,y]=l.useState(null),[v,p]=l.useState(null),[b,N]=l.useState(!1),[m,j]=l.useState(!1),[P,S]=l.useState([]),[O,D]=l.useState(!1),[H,Y]=l.useState({x:0,y:0,layoutId:""}),[K,z]=l.useState([]),[I,M]=l.useState(null),[E,V]=l.useState({name:"",sku:"",category:"",brand:"",location:"",quantity:0,safetyStock:0,price:0,description:""});l.useEffect(()=>{const W=async()=>{try{c(!0);const k=(await Ne.get(`/api/products/${e}`)).data.data;o(k),V({name:k.name,sku:k.sku,category:k.category,brand:k.brand,location:k.location,quantity:k.quantity,safetyStock:k.safetyStock,price:k.price,description:k.description||""}),k.coordinates&&(Y(k.coordinates),k.coordinates.layoutId&&F(k.coordinates.layoutId)),k.productImage&&y(`/api/uploads/products/${k.productImage}`),k.locationImage&&p(`/api/uploads/locations/${k.locationImage}`),c(!1)}catch(T){console.error("제품 정보 로드 오류:",T),r("제품 정보를 불러오는 중 오류가 발생했습니다.","error"),c(!1)}},G=l.useCallback(async()=>{var T;try{const k=await Ne.get("/api/locations/layouts");z(k.data.data)}catch(k){console.error("레이아웃 목록 로드 오류:",k),((T=k.response)==null?void 0:T.status)===404&&z([])}},[]);e&&(W(),G())},[e,r]);const F=l.useCallback(async W=>{var G;if(W)try{const T=await Ne.get(`/api/locations/layouts/${W}`);M(T.data.data)}catch(T){console.error("레이아웃 상세 로드 오류:",T),((G=T.response)==null?void 0:G.status)===404&&M(null)}},[]),q=W=>{const{name:G,value:T}=W.target;V(k=>({...k,[G]:G==="quantity"||G==="safetyStock"||G==="price"?parseFloat(T):T}))},$=async(W,G)=>{var k;const T=(k=W.target.files)==null?void 0:k[0];if(T){if(T.size>5*1024*1024){r("파일 크기는 5MB를 초과할 수 없습니다.","error");return}if(!T.type.startsWith("image/")){r("이미지 파일만 업로드할 수 있습니다.","error");return}try{G==="product"?N(!0):j(!0);const L=new FormData;L.append("file",T),L.append("productId",e||""),L.append("type",G);const Q=(await Ne.post("/api/images/upload",L,{headers:{"Content-Type":"multipart/form-data"}})).data.data.imageUrl;G==="product"?(y(`/api/uploads/products/${Q}`),N(!1)):(p(`/api/uploads/locations/${Q}`),j(!1)),r("이미지가 성공적으로 업로드되었습니다.","success")}catch(L){console.error("이미지 업로드 오류:",L),r("이미지 업로드 중 오류가 발생했습니다.","error"),G==="product"?N(!1):j(!1)}}},X=async W=>{try{W==="product"?N(!0):j(!0),await Ne.delete("/api/images",{data:{productId:e,imageType:W}}),W==="product"?(y(null),N(!1)):(p(null),j(!1)),r("이미지가 성공적으로 삭제되었습니다.","success")}catch(G){console.error("이미지 삭제 오류:",G),r("이미지 삭제 중 오류가 발생했습니다.","error"),W==="product"?N(!1):j(!1)}},ue=async W=>{var G;if(W)try{const T=await Ne.get(`/api/locations/layouts/${W}`);M(T.data.data),r("레이아웃이 선택되었습니다.","success")}catch(T){console.error("레이아웃 선택 오류:",T),((G=T.response)==null?void 0:G.status)===404?r("선택한 레이아웃을 찾을 수 없습니다.","error"):r("레이아웃을 선택하는 중 오류가 발생했습니다.","error")}},ge=async()=>{try{d(!0);const W={...E,coordinates:H,productImage:a==null?void 0:a.productImage,locationImage:a==null?void 0:a.locationImage};await Ne.put(`/api/products/${e}`,W);const G=await Ne.get(`/api/products/${e}`);o(G.data.data),r("제품 정보가 성공적으로 저장되었습니다.","success")}catch(W){console.error("제품 정보 저장 오류:",W),r("제품 정보 저장 중 오류가 발생했습니다.","error")}finally{d(!1)}},we=async()=>{try{d(!0),await Ne.put(`/api/products/${e}/location`,{coordinates:H});const W=await Ne.get(`/api/products/${e}`);o(W.data.data),r("위치 정보가 성공적으로 업데이트되었습니다.","success")}catch(W){console.error("위치 정보 업데이트 오류:",W),r("위치 정보 업데이트 중 오류가 발생했습니다.","error")}finally{d(!1)}},je=async()=>{try{D(!0);const W=await Ne.get(`/api/products/${e}/location-history`);S(W.data.data),D(!1)}catch(W){console.error("위치 이력 조회 오류:",W),r("위치 이력을 불러오는 중 오류가 발생했습니다.","error"),D(!1)}};return i?t.jsxs("div",{className:"flex items-center justify-center h-screen",children:[t.jsx(Pe,{className:"h-8 w-8 animate-spin"}),t.jsx("span",{className:"ml-2",children:"제품 정보를 불러오는 중..."})]}):t.jsxs("div",{className:"container mx-auto py-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold",children:E.name}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(xe,{onClick:()=>s(-1),children:"뒤로가기"}),t.jsxs(xe,{onClick:ge,disabled:u,children:[u?t.jsx(Pe,{className:"h-4 w-4 animate-spin mr-2"}):null,"저장"]})]})]}),t.jsxs(Un,{value:f,onValueChange:x,className:"w-full",children:[t.jsxs(fr,{className:"grid grid-cols-3 mb-6",children:[t.jsx(bt,{value:"details",children:"기본 정보"}),t.jsx(bt,{value:"images",children:"이미지"}),t.jsx(bt,{value:"location",children:"위치 관리"})]}),t.jsx(wt,{value:"details",children:t.jsxs(se,{children:[t.jsx(me,{children:t.jsx(he,{children:"제품 기본 정보"})}),t.jsxs(ae,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"name",children:"제품명"}),t.jsx(le,{id:"name",name:"name",value:E.name,onChange:q})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"sku",children:"SKU"}),t.jsx(le,{id:"sku",name:"sku",value:E.sku,onChange:q,disabled:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"category",children:"카테고리"}),t.jsx(le,{id:"category",name:"category",value:E.category,onChange:q})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"brand",children:"브랜드"}),t.jsx(le,{id:"brand",name:"brand",value:E.brand,onChange:q})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"quantity",children:"수량"}),t.jsx(le,{id:"quantity",name:"quantity",type:"number",value:E.quantity,onChange:q})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"safetyStock",children:"안전 재고"}),t.jsx(le,{id:"safetyStock",name:"safetyStock",type:"number",value:E.safetyStock,onChange:q})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"price",children:"가격"}),t.jsx(le,{id:"price",name:"price",type:"number",value:E.price,onChange:q})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"location",children:"위치"}),t.jsx(le,{id:"location",name:"location",value:E.location,onChange:q})]}),t.jsxs("div",{className:"space-y-2 md:col-span-2",children:[t.jsx(ee,{htmlFor:"description",children:"설명"}),t.jsx("textarea",{id:"description",name:"description",value:E.description,onChange:q,className:"w-full h-32 px-3 py-2 border rounded-md"})]})]}),t.jsx(Dt,{className:"flex justify-end",children:t.jsxs(xe,{onClick:ge,disabled:u,children:[u?t.jsx(Pe,{className:"h-4 w-4 animate-spin mr-2"}):t.jsx(Ns,{className:"h-4 w-4 mr-2"}),"저장"]})})]})}),t.jsx(wt,{value:"images",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs(se,{children:[t.jsx(me,{children:t.jsx(he,{children:"제품 이미지"})}),t.jsx(ae,{className:"flex flex-col items-center",children:g?t.jsxs("div",{className:"relative w-full",children:[t.jsx("img",{src:g,alt:"제품 이미지",className:"w-full h-64 object-contain border rounded-md"}),t.jsx(xe,{variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>X("product"),disabled:b,children:b?t.jsx(Pe,{className:"h-4 w-4 animate-spin"}):t.jsx(Ar,{className:"h-4 w-4"})})]}):t.jsxs("div",{className:"w-full h-64 border rounded-md flex flex-col items-center justify-center bg-gray-50",children:[t.jsx(Rr,{className:"h-16 w-16 text-gray-300"}),t.jsx("p",{className:"text-gray-500 mt-2",children:"제품 이미지 없음"})]})}),t.jsx(Dt,{children:t.jsxs("div",{className:"w-full",children:[t.jsx(ee,{htmlFor:"productImage",className:"block mb-2",children:"이미지 업로드"}),t.jsx(le,{id:"productImage",type:"file",accept:"image/*",onChange:W=>$(W,"product")})]})})]}),t.jsxs(se,{children:[t.jsx(me,{children:t.jsx(he,{children:"위치 이미지"})}),t.jsx(ae,{className:"flex flex-col items-center",children:v?t.jsxs("div",{className:"relative w-full",children:[t.jsx("img",{src:v,alt:"위치 이미지",className:"w-full h-64 object-contain border rounded-md"}),t.jsx(xe,{variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>X("location"),disabled:m,children:m?t.jsx(Pe,{className:"h-4 w-4 animate-spin"}):t.jsx(Ar,{className:"h-4 w-4"})})]}):t.jsxs("div",{className:"w-full h-64 border rounded-md flex flex-col items-center justify-center bg-gray-50",children:[t.jsx(Rr,{className:"h-16 w-16 text-gray-300"}),t.jsx("p",{className:"text-gray-500 mt-2",children:"위치 이미지 없음"})]})}),t.jsx(Dt,{children:t.jsxs("div",{className:"w-full",children:[t.jsx(ee,{htmlFor:"locationImage",className:"block mb-2",children:"이미지 업로드"}),t.jsx(le,{id:"locationImage",type:"file",accept:"image/*",onChange:W=>$(W,"location")})]})})]})]})}),t.jsx(wt,{value:"location",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs(se,{children:[t.jsx(me,{children:t.jsx(he,{children:"위치 지정"})}),t.jsx(ae,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"layoutSelect",children:"레이아웃 선택"}),t.jsxs("select",{id:"layoutSelect",className:"w-full p-2 border rounded-md",value:H.layoutId,onChange:W=>ue(W.target.value),children:[t.jsx("option",{value:"",children:"레이아웃 선택"}),K.map(W=>t.jsx("option",{value:W.id,children:W.name},W.id))]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"좌표 지정"}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsxs("div",{className:"space-y-1 flex-1",children:[t.jsx(ee,{htmlFor:"xCoord",children:"X 좌표"}),t.jsx(le,{id:"xCoord",type:"number",value:H.x,onChange:W=>Y(G=>({...G,x:parseInt(W.target.value)||0}))})]}),t.jsxs("div",{className:"space-y-1 flex-1",children:[t.jsx(ee,{htmlFor:"yCoord",children:"Y 좌표"}),t.jsx(le,{id:"yCoord",type:"number",value:H.y,onChange:W=>Y(G=>({...G,y:parseInt(W.target.value)||0}))})]})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx(ee,{children:"레이아웃 맵"}),t.jsx("div",{className:"border rounded-md p-4 mt-2 bg-gray-50 h-64 flex items-center justify-center",children:I?t.jsx("div",{className:"relative w-full h-full",children:t.jsx("div",{className:"absolute w-4 h-4 bg-red-500 rounded-full transform -translate-x-1/2 -translate-y-1/2",style:{left:`${H.x}%`,top:`${H.y}%`}})}):t.jsx("p",{className:"text-gray-500",children:"레이아웃을 선택하세요"})})]}),t.jsxs(xe,{onClick:we,disabled:u||!H.layoutId,className:"w-full mt-4",children:[u?t.jsx(Pe,{className:"h-4 w-4 animate-spin mr-2"}):t.jsx(Uo,{className:"h-4 w-4 mr-2"}),"위치 정보 저장"]})]})})]}),t.jsxs(se,{children:[t.jsxs(me,{className:"flex flex-row items-center justify-between",children:[t.jsx(he,{children:"위치 이력"}),t.jsx(xe,{variant:"outline",size:"sm",onClick:je,disabled:O,children:O?t.jsx(Pe,{className:"h-4 w-4 animate-spin"}):"새로고침"})]}),t.jsx(ae,{children:O?t.jsxs("div",{className:"flex items-center justify-center h-64",children:[t.jsx(Pe,{className:"h-8 w-8 animate-spin"}),t.jsx("span",{className:"ml-2",children:"이력을 불러오는 중..."})]}):P.length>0?t.jsx("div",{className:"space-y-4 max-h-64 overflow-y-auto",children:P.map((W,G)=>t.jsx("div",{className:"border rounded-md p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{children:t.jsxs("p",{className:"text-sm text-gray-500",children:["위치: ",W.newLocation]})}),t.jsx("p",{className:"text-xs text-gray-400",children:new Date(W.movedAt).toLocaleString()})]})},G))}):t.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"위치 이력이 없습니다"})})]})]})})]})]})},rs="your_gemini_api_key_here",ns="https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent",ps={async generateProductDescription(e,s,r){var n,a,o;try{const i=`다음 제품에 대한 상세하고 매력적인 설명을 한국어로 작성해주세요:
제품명: ${e}
카테고리: ${s}
브랜드: ${r}

설명은 200자 이내로 작성하고, 제품의 특징과 장점을 포함해주세요.`;return((o=(a=(n=(await Rt.post(`${ns}?key=${rs}`,{contents:[{parts:[{text:i}]}]},{headers:{"Content-Type":"application/json"}})).data.candidates[0])==null?void 0:n.content)==null?void 0:a.parts[0])==null?void 0:o.text)||"설명을 생성할 수 없습니다."}catch(i){throw console.error("AI 설명 생성 오류:",i),new Error("AI 설명 생성에 실패했습니다.")}},async getInventoryOptimization(e){var s,r,n;try{const a=e.filter(d=>d.quantity<=d.safetyStock),o=e.filter(d=>d.quantity>d.safetyStock*3),i=`다음 재고 데이터를 분석하여 최적화 제안을 해주세요:

부족 재고 제품 수: ${a.length}
과다 재고 제품 수: ${o.length}
전체 제품 수: ${e.length}

재고 관리 개선 방안과 구체적인 액션 아이템을 제안해주세요.`;return((n=(r=(s=(await Rt.post(`${ns}?key=${rs}`,{contents:[{parts:[{text:i}]}]},{headers:{"Content-Type":"application/json"}})).data.candidates[0])==null?void 0:s.content)==null?void 0:r.parts[0])==null?void 0:n.text)||"분석을 생성할 수 없습니다."}catch(a){throw console.error("AI 재고 분석 오류:",a),new Error("AI 재고 분석에 실패했습니다.")}},async getSalesAnalysis(e){var s,r,n;try{const a=`다음 판매 데이터를 분석하여 인사이트와 예측을 제공해주세요:

판매 데이터: ${JSON.stringify(e,null,2)}

트렌드 분석, 성장 예측, 개선 방안을 포함하여 분석해주세요.`;return((n=(r=(s=(await Rt.post(`${ns}?key=${rs}`,{contents:[{parts:[{text:a}]}]},{headers:{"Content-Type":"application/json"}})).data.candidates[0])==null?void 0:s.content)==null?void 0:r.parts[0])==null?void 0:n.text)||"분석을 생성할 수 없습니다."}catch(a){throw console.error("AI 판매 분석 오류:",a),new Error("AI 판매 분석에 실패했습니다.")}},async categorizeProduct(e,s){var r,n,a,o;try{const i=`다음 제품을 적절한 카테고리로 분류해주세요:
제품명: ${e}
${s?`설명: ${s}`:""}

가능한 카테고리: 전자제품, 의류, 식품, 생활용품, 스포츠용품, 도서, 화장품, 가구, 기타

가장 적합한 카테고리 하나만 답변해주세요.`;return((o=(a=(n=(r=(await Rt.post(`${ns}?key=${rs}`,{contents:[{parts:[{text:i}]}]},{headers:{"Content-Type":"application/json"}})).data.candidates[0])==null?void 0:r.content)==null?void 0:n.parts[0])==null?void 0:a.text)==null?void 0:o.trim())||"기타"}catch(i){return console.error("AI 카테고리 분류 오류:",i),"기타"}}},oc=()=>{const e=rt(),{toast:s}=Be(),[r,n]=l.useState(!1),[a,o]=l.useState(!1),[i,c]=l.useState(!1),[u,d]=l.useState(null),[f,x]=l.useState(null),{register:g,handleSubmit:y,formState:{errors:v},watch:p,setValue:b}=ur(),N=p(["name","category","brand"]),m=async()=>{const[S,O,D]=N;if(!S||!O||!D){s("제품명, 카테고리, 브랜드를 먼저 입력해주세요.","error");return}o(!0);try{const H=await ps.generateProductDescription(S,O,D);b("description",H),s("AI가 제품 설명을 생성했습니다.","success")}catch(H){console.error("AI 설명 생성 오류:",H),s("AI 설명 생성에 실패했습니다.","error")}finally{o(!1)}},j=async()=>{const S=N[0];if(!S){s("제품명을 먼저 입력해주세요.","error");return}c(!0);try{const O=await ps.categorizeProduct(S);b("category",O),s("AI가 카테고리를 분류했습니다.","success")}catch(O){console.error("AI 카테고리 분류 오류:",O),s("AI 카테고리 분류에 실패했습니다.","error")}finally{c(!1)}},P=async S=>{n(!0);try{const O=await Ve.createProduct({name:S.name,sku:S.sku,category:S.category,brand:S.brand,location:S.location,quantity:parseInt(S.quantity),safetyStock:parseInt(S.safetyStock),price:parseFloat(S.price),description:S.description,productImage:u||void 0,locationImage:void 0,coordinates:f||void 0});s("새로운 제품이 등록되었습니다.","success"),e(`/products/${O.id}`)}catch(O){console.error("제품 등록 오류:",O),s("제품을 등록하는 중 오류가 발생했습니다.","error")}finally{n(!1)}};return t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("button",{onClick:()=>e(-1),className:"mr-4 text-gray-600 hover:text-gray-900",children:t.jsx(Gt,{className:"h-5 w-5"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"신규 제품 등록"})]}),t.jsxs(se,{children:[t.jsx(me,{children:t.jsx(he,{children:"제품 정보 입력"})}),t.jsx(ae,{children:t.jsxs("form",{onSubmit:y(P),className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"name",children:"제품명 *"}),t.jsx(le,{id:"name",...g("name",{required:"제품명을 입력해주세요"})}),v.name&&t.jsx("p",{className:"text-sm text-red-600",children:v.name.message})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"sku",children:"SKU *"}),t.jsx(le,{id:"sku",...g("sku",{required:"SKU를 입력해주세요"})}),v.sku&&t.jsx("p",{className:"text-sm text-red-600",children:v.sku.message})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"category",children:"카테고리 *"}),t.jsxs(xe,{type:"button",variant:"outline",size:"sm",onClick:j,disabled:i||!N[0],className:"text-xs",children:[i?t.jsx(Pe,{className:"h-3 w-3 animate-spin mr-1"}):t.jsx(Yo,{className:"h-3 w-3 mr-1"}),"AI 분류"]})]}),t.jsx(le,{id:"category",...g("category",{required:"카테고리를 입력해주세요"})}),v.category&&t.jsx("p",{className:"text-sm text-red-600",children:v.category.message})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"brand",children:"브랜드 *"}),t.jsx(le,{id:"brand",...g("brand",{required:"브랜드를 입력해주세요"})}),v.brand&&t.jsx("p",{className:"text-sm text-red-600",children:v.brand.message})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"location",children:"위치 *"}),t.jsx(le,{id:"location",...g("location",{required:"위치를 입력해주세요"})}),v.location&&t.jsx("p",{className:"text-sm text-red-600",children:v.location.message})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"quantity",children:"수량 *"}),t.jsx(le,{id:"quantity",type:"number",...g("quantity",{required:"수량을 입력해주세요",min:{value:0,message:"수량은 0 이상이어야 합니다"}})}),v.quantity&&t.jsx("p",{className:"text-sm text-red-600",children:v.quantity.message})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"safetyStock",children:"안전 재고 *"}),t.jsx(le,{id:"safetyStock",type:"number",...g("safetyStock",{required:"안전 재고를 입력해주세요",min:{value:0,message:"안전 재고는 0 이상이어야 합니다"}})}),v.safetyStock&&t.jsx("p",{className:"text-sm text-red-600",children:v.safetyStock.message})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"price",children:"단가 *"}),t.jsx(le,{id:"price",type:"number",step:"0.01",...g("price",{required:"단가를 입력해주세요",min:{value:0,message:"단가는 0 이상이어야 합니다"}})}),v.price&&t.jsx("p",{className:"text-sm text-red-600",children:v.price.message})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"description",children:"제품 설명"}),t.jsxs(xe,{type:"button",variant:"outline",size:"sm",onClick:m,disabled:a||!N[0]||!N[1]||!N[2],className:"text-xs",children:[a?t.jsx(Pe,{className:"h-3 w-3 animate-spin mr-1"}):t.jsx(zo,{className:"h-3 w-3 mr-1"}),"AI 생성"]})]}),t.jsx("textarea",{id:"description",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-kyobo focus:border-transparent",placeholder:"제품에 대한 상세 설명을 입력하세요...",...g("description")})]}),t.jsxs("div",{className:"flex justify-end space-x-4",children:[t.jsx(xe,{type:"button",variant:"outline",onClick:()=>e(-1),children:"취소"}),t.jsx(xe,{type:"submit",disabled:r,children:r?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"animate-spin mr-2",children:"⌛"}),"저장 중..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ns,{className:"h-4 w-4 mr-2"}),"저장"]})})]})]})})]})]})},ic=()=>{const e=rt(),{toast:s}=Be(),[r,n]=l.useState(!1),[a,o]=l.useState(null),{register:i,handleSubmit:c,formState:{errors:u}}=ur(),d=async f=>{if(!f.file||f.file.length===0)return;const x=f.file[0];if(x.type!=="text/csv"&&!x.name.endsWith(".csv")){s("CSV 파일만 업로드 가능합니다.","error");return}n(!0);try{const g=await Ve.bulkUpload(x);o({successCount:g.success,errorCount:g.failed,errors:g.errors}),g.success>0&&s(`${g.success}개의 제품이 성공적으로 업로드되었습니다.`,"success"),g.failed>0&&s(`${g.failed}개의 제품 업로드에 실패했습니다.`,"error")}catch(g){console.error("대량 업로드 오류:",g),s("파일을 업로드하는 중 오류가 발생했습니다.","error")}finally{n(!1)}};return t.jsxs("div",{className:"container-main",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("button",{onClick:()=>e(-1),className:"btn-back",children:t.jsx(Gt,{className:"h-5 w-5"})}),t.jsx("h1",{className:"page-title",children:"대량 업로드"})]}),t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"card-header flex items-center",children:[t.jsx(pn,{className:"text-icon text-kyobo"}),t.jsx("h2",{className:"card-title",children:"CSV 파일 업로드"})]}),t.jsxs("div",{className:"card-body",children:[t.jsxs("form",{onSubmit:c(d),className:"space-y-form",children:[t.jsxs("div",{children:[t.jsx("label",{className:"form-label",children:"CSV 파일 선택"}),t.jsx("div",{className:"file-upload-area",children:t.jsxs("div",{className:"file-upload-content",children:[t.jsx(wn,{className:"file-upload-icon"}),t.jsxs("div",{className:"file-upload-text",children:[t.jsxs("label",{htmlFor:"file-upload",className:"file-upload-label",children:[t.jsx("span",{children:"파일 선택"}),t.jsx("input",{id:"file-upload",type:"file",className:"file-upload-input",accept:".csv",...i("file",{required:"파일을 선택해주세요"})})]}),t.jsx("p",{className:"pl-1",children:"또는 여기에 파일을 끌어다 놓으세요"})]}),t.jsx("p",{className:"file-upload-hint",children:"CSV 파일만 업로드 가능합니다. 최대 10MB"})]})}),u.file&&t.jsx("p",{className:"form-error",children:u.file.message})]}),t.jsxs("div",{className:"info-box",children:[t.jsx("h3",{className:"info-box-title",children:"CSV 파일 형식"}),t.jsxs("div",{className:"info-box-content",children:[t.jsx("p",{children:"다음 열을 포함해야 합니다:"}),t.jsxs("ul",{className:"info-box-list",children:[t.jsx("li",{children:"sku (필수): 제품 고유 코드"}),t.jsx("li",{children:"name (필수): 제품명"}),t.jsx("li",{children:"category (필수): 카테고리"}),t.jsx("li",{children:"brand (필수): 브랜드"}),t.jsx("li",{children:"location (필수): 위치"}),t.jsx("li",{children:"quantity (필수): 수량"}),t.jsx("li",{children:"safetyStock (필수): 안전 재고"}),t.jsx("li",{children:"price (필수): 단가"})]}),t.jsx("p",{className:"mt-2",children:t.jsx("a",{href:"/sample.csv",download:!0,className:"info-box-link",children:"샘플 CSV 파일 다운로드"})})]})]}),t.jsxs("div",{className:"flex justify-end space-x-buttons",children:[t.jsx("button",{type:"button",onClick:()=>e(-1),className:"btn-secondary",children:"취소"}),t.jsx("button",{type:"submit",disabled:r,className:"btn-primary",children:r?"업로드 중...":"업로드"})]})]}),a&&t.jsx("div",{className:`result-display ${a.errorCount>0?"result-display-error":"result-display-success"}`,children:t.jsxs("div",{className:"result-display-content",children:[t.jsx("div",{className:"result-display-icon",children:a.errorCount>0?t.jsx(et,{className:"text-icon text-red-400"}):t.jsx("div",{className:"text-icon text-green-400",children:"✓"})}),t.jsxs("div",{className:"result-display-body",children:[t.jsx("h3",{className:`result-display-title ${a.errorCount>0?"text-red-800":"text-green-800"}`,children:"업로드 결과"}),t.jsxs("div",{className:`result-display-details ${a.errorCount>0?"text-red-700":"text-green-700"}`,children:[t.jsxs("p",{children:["성공: ",a.successCount,"건"]}),t.jsxs("p",{children:["실패: ",a.errorCount,"건"]}),a.errors&&a.errors.length>0&&t.jsxs("div",{className:"result-display-errors",children:[t.jsx("p",{className:"result-display-errors-title",children:"오류 내역:"}),t.jsx("ul",{className:"result-display-errors-list",children:a.errors.map((f,x)=>t.jsx("li",{children:f},x))})]})]})]})]})})]})]})]})},cc=()=>{const{id:e}=ar(),s=rt(),{toast:r}=Be(),[n,a]=l.useState(navigator.onLine),o=Tn(),[i,c]=l.useState(0),[u,d]=l.useState(""),[f,x]=l.useState(!1),{data:g,isLoading:y,error:v}=Mt({queryKey:["product",e],queryFn:()=>Ve.getProduct(e),enabled:!!e}),p=Pn({mutationFn:N=>Ve.adjustInventory(N.productId,N.quantity,N.memo),onSuccess:()=>{o.invalidateQueries({queryKey:["product",e]}),r("제품 재고가 성공적으로 조정되었습니다.","success"),s(`/products/${e}`)},onError:N=>{console.error("재고 조정 오류:",N),r("제품 재고를 조정하는 중 오류가 발생했습니다.","error"),x(!1)}}),b=async N=>{if(N.preventDefault(),!(!e||i===0))if(x(!0),n)p.mutate({productId:e,quantity:i,memo:u});else try{await zt.queueInventoryAdjustment(e,i,u),r("오프라인 상태입니다. 온라인 연결 시 자동으로 동기화됩니다.","info"),s(`/products/${e}`)}catch(m){console.error("오프라인 재고 조정 오류:",m),r("오프라인 작업을 저장하는 중 오류가 발생했습니다.","error"),x(!1)}};return y?t.jsx("div",{className:"loading-spinner",children:t.jsx("div",{className:"loading-spinner-icon"})}):v||!g?t.jsx("div",{className:"alert alert-error mb-6",children:t.jsxs("div",{className:"alert-content",children:[t.jsx("div",{className:"alert-icon",children:t.jsx(et,{className:"h-5 w-5"})}),t.jsx("div",{className:"alert-content",children:t.jsx("p",{className:"alert-message",children:"제품 정보를 불러오는 중 오류가 발생했습니다. 다시 시도해주세요."})})]})}):t.jsxs("div",{className:"container-main",children:[t.jsxs("div",{className:"page-header",children:[t.jsx("button",{onClick:()=>s(-1),className:"btn-back",children:t.jsx(Gt,{className:"h-5 w-5"})}),t.jsx("h1",{className:"page-title",children:"재고 조정"})]}),t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("h2",{className:"card-title",children:g.name}),t.jsxs("p",{className:"card-subtitle",children:["SKU: ",g.sku]})]}),t.jsx("div",{className:"card-body",children:t.jsxs("form",{onSubmit:b,className:"space-y-form",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"currentQuantity",className:"form-label",children:"현재 재고"}),t.jsx("input",{type:"text",id:"currentQuantity",value:g.quantity,disabled:!0,className:"form-input-disabled"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"adjustmentType",className:"form-label",children:"조정 유형"}),t.jsxs("div",{className:"inventory-adjust-type-options",children:[t.jsxs("div",{className:"inventory-adjust-type-option",children:[t.jsx("input",{id:"adjustmentTypeIn",name:"adjustmentType",type:"radio",checked:i>0,onChange:()=>c(Math.abs(i)||1),className:"form-radio"}),t.jsxs("label",{htmlFor:"adjustmentTypeIn",className:"form-radio-label",children:[t.jsx(gn,{className:"text-icon-sm text-green-500"}),"입고"]})]}),t.jsxs("div",{className:"inventory-adjust-type-option",children:[t.jsx("input",{id:"adjustmentTypeOut",name:"adjustmentType",type:"radio",checked:i<0,onChange:()=>c(i===0?-1:-Math.abs(i)),className:"form-radio"}),t.jsxs("label",{htmlFor:"adjustmentTypeOut",className:"form-radio-label",children:[t.jsx(Ko,{className:"text-icon-sm text-red-500"}),"출고"]})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"quantity",className:"form-label",children:"수량"}),t.jsx("input",{type:"number",id:"quantity",value:Math.abs(i),onChange:N=>{const m=parseInt(N.target.value)||0;c(i<0?-m:m)},min:"1",required:!0,className:"form-input"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"memo",className:"form-label",children:"메모"}),t.jsx("textarea",{id:"memo",value:u,onChange:N=>d(N.target.value),rows:3,className:"form-textarea",placeholder:"조정 사유 또는 참고 사항"})]}),!n&&t.jsx("div",{className:"inventory-adjust-offline-notice",children:t.jsxs("div",{className:"inventory-adjust-offline-content",children:[t.jsx("div",{className:"inventory-adjust-offline-icon",children:t.jsx(et,{className:"h-5 w-5 text-yellow-400"})}),t.jsxs("div",{className:"inventory-adjust-offline-text",children:[t.jsx("h3",{className:"inventory-adjust-offline-title",children:"오프라인 모드"}),t.jsx("div",{className:"inventory-adjust-offline-message",children:t.jsx("p",{children:"현재 오프라인 상태입니다. 재고 조정 작업은 저장되며, 온라인 연결 시 자동으로 동기화됩니다."})})]})]})}),t.jsxs("div",{className:"flex justify-end space-x-buttons",children:[t.jsx("button",{type:"button",onClick:()=>s(`/products/${e}`),className:"btn-secondary",children:"취소"}),t.jsxs("button",{type:"submit",disabled:f||i===0,className:"btn-primary",children:[t.jsx(Ns,{className:"text-icon"}),f?"처리 중...":"재고 조정"]})]})]})})]})]})},lc=()=>{const{id:e}=ar(),s=rt(),{toast:r}=Be(),{isOnline:n}=Wn(),a=Tn(),[o,i]=l.useState(""),[c,u]=l.useState(!1),{data:d,isLoading:f,error:x}=Mt({queryKey:["product",e],queryFn:()=>Ve.getProduct(e),enabled:!!e}),g=Pn({mutationFn:v=>Ve.moveLocation(v.productId,v.toLocation),onSuccess:()=>{a.invalidateQueries({queryKey:["product",e]}),r("제품 위치가 성공적으로 변경되었습니다.","success"),s(`/products/${e}`)},onError:v=>{console.error("위치 변경 오류:",v),r("제품 위치를 변경하는 중 오류가 발생했습니다.","error"),u(!1)}}),y=async v=>{if(v.preventDefault(),!(!e||!o)){if(d&&d.location===o){r("현재 위치와 동일합니다.","error");return}if(u(!0),n)g.mutate({productId:e,toLocation:o});else try{await zt.queueLocationMove(e,o),r("오프라인 상태입니다. 온라인 연결 시 자동으로 동기화됩니다.","info"),s(`/products/${e}`)}catch(p){console.error("오프라인 위치 변경 오류:",p),r("오프라인 작업을 저장하는 중 오류가 발생했습니다.","error"),u(!1)}}};return f?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-kyobo"})}):x||!d?t.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(et,{className:"h-5 w-5 text-red-400"})}),t.jsx("div",{className:"ml-3",children:t.jsx("p",{className:"text-sm text-red-700",children:"제품 정보를 불러오는 중 오류가 발생했습니다. 다시 시도해주세요."})})]})}):t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("button",{onClick:()=>s(-1),className:"mr-4 text-gray-600 hover:text-gray-900",children:t.jsx(Gt,{className:"h-5 w-5"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"위치 변경"})]}),t.jsxs("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:[t.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[t.jsx("h2",{className:"text-lg font-medium text-gray-900",children:d.name}),t.jsxs("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:["SKU: ",d.sku]})]}),t.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:t.jsxs("form",{onSubmit:y,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"currentLocation",className:"block text-sm font-medium text-gray-700",children:"현재 위치"}),t.jsx("input",{type:"text",id:"currentLocation",value:d.location,disabled:!0,className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-gray-100 rounded-md shadow-sm text-gray-500 sm:text-sm"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"toLocation",className:"block text-sm font-medium text-gray-700",children:"새 위치"}),t.jsx("input",{type:"text",id:"toLocation",value:o,onChange:v=>i(v.target.value),required:!0,className:"mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-kyobo focus:border-kyobo sm:text-sm",placeholder:"예: 매장 A-1, 창고 B-2"})]}),!n&&t.jsx("div",{className:"rounded-md bg-yellow-50 p-4",children:t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(et,{className:"h-5 w-5 text-yellow-400"})}),t.jsxs("div",{className:"ml-3",children:[t.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"오프라인 모드"}),t.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:t.jsx("p",{children:"현재 오프라인 상태입니다. 위치 변경 작업은 저장되며, 온라인 연결 시 자동으로 동기화됩니다."})})]})]})}),t.jsxs("div",{className:"flex justify-end",children:[t.jsx("button",{type:"button",onClick:()=>s(`/products/${e}`),className:"mr-3 py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-kyobo",children:"취소"}),t.jsxs("button",{type:"submit",disabled:c||!o||d.location===o,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-kyobo hover:bg-kyobo-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-kyobo disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(Ns,{className:"h-4 w-4 mr-2"}),c?"처리 중...":"위치 변경"]})]})]})})]})]})},dc=()=>{const e=rt(),{toast:s}=Be(),[r,n]=l.useState(""),[a,o]=l.useState([]),[i,c]=l.useState(!1),[u,d]=l.useState(!1),[f,x]=l.useState(""),[g,y]=l.useState(null);l.useEffect(()=>{(async()=>{try{const P=(await navigator.mediaDevices.enumerateDevices()).filter(S=>S.kind==="videoinput");o(P),P.length>0&&n(P[0].deviceId)}catch(j){console.error("카메라 장치 목록 가져오기 오류:",j),d(!0)}})()},[]);const v=async()=>{if(r)try{const m={video:{deviceId:{exact:r},width:{ideal:640},height:{ideal:480}}},j=await navigator.mediaDevices.getUserMedia(m);y(j);const P=document.getElementById("scanner-preview");P&&(P.srcObject=j,P.play()),c(!0),s("카메라가 시작되었습니다. 바코드를 카메라에 비춰주세요. 자동 인식이 지원되지 않으므로 수동으로 입력해주세요.","success")}catch(m){console.error("카메라 시작 오류:",m),d(!0),s("카메라 접근 권한이 없거나 장치를 사용할 수 없습니다.","error")}},p=()=>{g&&(g.getTracks().forEach(m=>m.stop()),y(null)),c(!1)},b=m=>{m&&(s(`바코드 스캔 완료: ${m}`,"success"),e(`/products?search=${encodeURIComponent(m)}`))},N=m=>{m.preventDefault(),f.trim()&&b(f.trim())};return l.useEffect(()=>()=>{p()},[]),t.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:t.jsxs("div",{className:"max-w-md mx-auto",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("button",{onClick:()=>e(-1),className:"mr-4 p-2 rounded-lg hover:bg-gray-200 transition-colors",children:t.jsx(Gt,{className:"w-6 h-6"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"바코드 스캐너"})]}),u&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(et,{className:"w-5 h-5 text-red-500 mr-2"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-red-800 font-medium",children:"카메라 접근 불가"}),t.jsx("p",{className:"text-red-600 text-sm mt-1",children:"카메라 권한이 거부되었거나 사용할 수 없습니다. 수동으로 바코드를 입력해주세요."})]})]})}),a.length>0&&!u&&t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"카메라 선택"}),t.jsx("select",{value:r,onChange:m=>n(m.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:a.map(m=>t.jsx("option",{value:m.deviceId,children:m.label||`카메라 ${m.deviceId.slice(0,8)}`},m.deviceId))})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:[t.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg overflow-hidden mb-4",children:t.jsx("video",{id:"scanner-preview",className:"w-full h-full object-cover",autoPlay:!0,playsInline:!0,muted:!0})}),t.jsx("div",{className:"flex gap-2",children:i?t.jsx("button",{onClick:p,className:"flex-1 bg-red-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-red-700 transition-colors flex items-center justify-center",children:"카메라 중지"}):t.jsxs("button",{onClick:v,disabled:!r||u,className:"flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:[t.jsx(Qo,{className:"w-5 h-5 mr-2"}),"카메라 시작"]})})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[t.jsx(Xo,{className:"w-5 h-5 mr-2"}),"수동 바코드 입력"]}),t.jsxs("form",{onSubmit:N,children:[t.jsx("div",{className:"mb-4",children:t.jsx("input",{type:"text",value:f,onChange:m=>x(m.target.value),placeholder:"바코드 번호를 입력하세요",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),t.jsx("button",{type:"submit",disabled:!f.trim(),className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"검색"})]})]}),t.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("h4",{className:"text-blue-800 font-medium mb-2",children:"사용 방법"}),t.jsxs("ul",{className:"text-blue-600 text-sm space-y-1",children:[t.jsx("li",{children:"• 카메라를 시작하고 바코드를 화면에 비춰주세요"}),t.jsx("li",{children:"• 자동 인식이 지원되지 않으므로 수동으로 입력해주세요"}),t.jsx("li",{children:"• 바코드 번호를 직접 입력하여 제품을 검색할 수 있습니다"})]})]})]})})};let Kr=0;const uc=3e3,fc=(e,s,r)=>async()=>{try{return await e()}catch(n){console.error(s,n);const a=Date.now();throw a-Kr>uc&&(r(s,"error"),Kr=a),n}},ot=be.memo(({label:e,type:s="text",name:r,value:n,onChange:a,placeholder:o,options:i,min:c,max:u})=>t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:e}),s==="select"?t.jsx("select",{name:r,value:n,onChange:a,className:"w-full p-2 border rounded",children:i==null?void 0:i.map(d=>t.jsx("option",{value:d.value,children:d.label},d.value))}):s==="checkbox"?t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:r,name:r,checked:n,onChange:a,className:"mr-2"}),t.jsx("label",{htmlFor:r,children:o})]}):t.jsx(le,{type:s,name:r,value:n,onChange:a,placeholder:o,min:c,max:u})]})),mc=be.memo(({title:e,value:s,formatter:r=n=>n})=>t.jsxs(se,{children:[t.jsx(me,{children:t.jsx(he,{children:e})}),t.jsx(ae,{children:t.jsx("p",{className:"text-3xl font-bold",children:r(s)})})]})),Qr=be.memo(({columns:e,data:s,loading:r,emptyMessage:n})=>r?t.jsxs("div",{className:"flex items-center justify-center h-64",children:[t.jsx(Pe,{className:"h-8 w-8 animate-spin"}),t.jsx("span",{className:"ml-2",children:"데이터를 불러오는 중..."})]}):s.length===0?t.jsx("p",{className:"text-center text-gray-500 py-8",children:n}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full border-collapse",children:[t.jsx("thead",{children:t.jsx("tr",{className:"bg-gray-100",children:e.map(a=>t.jsx("th",{className:"p-2 text-left",children:a.label},a.key))})}),t.jsx("tbody",{children:s.map((a,o)=>t.jsx("tr",{className:"border-t",children:e.map(i=>t.jsx("td",{className:"p-2",children:i.render?i.render(a[i.key],a):a[i.key]},i.key))},a.id||o))})]})})),Xr=be.memo(({title:e,children:s,onApply:r})=>t.jsxs(se,{className:"mb-6",children:[t.jsx(me,{children:t.jsx(he,{children:e})}),t.jsx(ae,{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:s}),t.jsx(Dt,{children:t.jsx(xe,{onClick:r,children:"필터 적용"})})]})),hc=be.memo(()=>{const e=rt(),{toast:s}=Be(),{user:r}=ut(),[n,a]=l.useState(!0),[o,i]=l.useState("sales"),[c,u]=l.useState([]),[d,f]=l.useState({totalSales:0,totalQuantity:0,recordCount:0}),[x,g]=l.useState({startDate:"",endDate:"",category:"",brand:""}),y=l.useMemo(()=>c.filter(T=>{var Q,Z;const k=new Date(T.saleDate),L=x.startDate?new Date(x.startDate):null,J=x.endDate?new Date(x.endDate):null;return!(L&&k<L||J&&k>J||x.category&&((Q=T.product)==null?void 0:Q.category)!==x.category||x.brand&&((Z=T.product)==null?void 0:Z.brand)!==x.brand)}),[c,x]),v=l.useMemo(()=>y.reduce((T,k)=>({totalSales:T.totalSales+(k.amount||0),totalQuantity:T.totalQuantity+(k.quantity||0),recordCount:T.recordCount+1}),{totalSales:0,totalQuantity:0,recordCount:0}),[y]),[p,b]=l.useState([]),[N,m]=l.useState(30),[j,P]=l.useState({category:"",needsReorder:!1}),[S,O]=l.useState({}),[D,H]=l.useState({key:"",value:"",type:"string",description:""}),Y=l.useCallback(T=>Object.entries(T).filter(([k,L])=>L!==""&&L!==null&&L!==void 0).reduce((k,[L,J])=>(k.append(L,J.toString()),k),new URLSearchParams),[]),K=l.useCallback((T,k,L)=>fc(async()=>{a(!0);const J=await Ne.get(T),Q=L?L(J.data.data):J.data.data;return k(Q),a(!1),Q},`${T} 데이터를 불러오는 중 오류가 발생했습니다.`,s),[s]),z=l.useMemo(()=>{const T=Y(x);return K(`/api/admin/sales?${T.toString()}`,k=>{u(k.records),f(k.stats)})},[x,Y,K]),I=l.useMemo(()=>{const T=Y({days:N,category:j.category});return K(`/api/admin/predictions?${T.toString()}`,b,k=>j.needsReorder?k.filter(L=>L.needsReorder):k)},[N,j,Y,K]),M=l.useMemo(()=>K("/api/admin/settings",O),[K]),E=l.useMemo(()=>({sales:z,predictions:I,settings:M}),[z,I,M]);l.useEffect(()=>{const T=E[o];T&&T().catch(()=>{})},[o,E]);const V=l.useCallback(T=>k=>{const{name:L,value:J,type:Q}=k.target,Z=k.target.checked;T(te=>({...te,[L]:Q==="checkbox"?Z:J}))},[]),F=l.useMemo(()=>V(g),[V]),q=l.useMemo(()=>V(P),[V]),$=l.useMemo(()=>V(H),[V]),X=l.useCallback(()=>z(),[z]),ue=l.useCallback(()=>I(),[I]),ge=l.useMemo(()=>({number:T=>parseFloat(T),boolean:T=>T==="true",json:T=>{try{return JSON.parse(T)}catch{throw new Error("JSON 형식이 올바르지 않습니다.")}},string:T=>T}),[]),we=l.useCallback((T,k)=>{const L=S[T];if(L)try{const J=ge[L.type],Q=J?J(k):k;je(T,Q,L.type,L.description||"")}catch(J){s(J.message,"error")}},[S,ge,s]),je=async(T,k,L,J)=>{try{const Q=await Ne.put(`/api/admin/settings/${T}`,{value:k,type:L,description:J});M(),s("설정이 성공적으로 업데이트되었습니다.","success")}catch(Q){console.error("설정 업데이트 오류:",Q),s("설정을 업데이트하는 중 오류가 발생했습니다.","error")}},W=async()=>{try{if(!D.key||!D.value){s("키와 값은 필수 입력 항목입니다.","error");return}let T=D.value;if(D.type==="json")try{JSON.parse(D.value)}catch{s("JSON 형식이 올바르지 않습니다.","error");return}const k=await Ne.put(`/api/admin/settings/${D.key}`,{value:T,type:D.type,description:D.description});M(),H({key:"",value:"",type:"string",description:""}),s("새 설정이 성공적으로 생성되었습니다.","success")}catch(T){console.error("설정 생성 오류:",T),s("설정을 생성하는 중 오류가 발생했습니다.","error")}},G=async T=>{try{const k=await Ne.delete(`/api/admin/settings/${T}`);M(),s("설정이 성공적으로 삭제되었습니다.","success")}catch(k){console.error("설정 삭제 오류:",k),s("설정을 삭제하는 중 오류가 발생했습니다.","error")}};return l.useEffect(()=>{r&&r.role!=="admin"&&(s("관리자만 접근할 수 있는 페이지입니다.","error"),e("/"))},[r,e,s]),!r||r.role!=="admin"?null:t.jsxs("div",{className:"container mx-auto py-6",children:[t.jsx("div",{className:"flex justify-between items-center mb-6",children:t.jsx("h1",{className:"text-3xl font-bold",children:"관리자 대시보드"})}),t.jsxs(Un,{value:o,onValueChange:i,className:"w-full",children:[t.jsxs(fr,{className:"grid grid-cols-3 mb-6",children:[t.jsxs(bt,{value:"sales",children:[t.jsx(Go,{className:"h-4 w-4 mr-2"}),"판매 데이터"]}),t.jsxs(bt,{value:"predictions",children:[t.jsx(Jo,{className:"h-4 w-4 mr-2"}),"재고 예측"]}),t.jsxs(bt,{value:"settings",children:[t.jsx(jn,{className:"h-4 w-4 mr-2"}),"시스템 설정"]})]}),t.jsxs(wt,{value:"sales",children:[t.jsxs(Xr,{title:"판매 데이터 필터",onApply:X,children:[t.jsx(ot,{label:"시작일",type:"date",name:"startDate",value:x.startDate,onChange:F}),t.jsx(ot,{label:"종료일",type:"date",name:"endDate",value:x.endDate,onChange:F}),t.jsx(ot,{label:"카테고리",name:"category",value:x.category,onChange:F,placeholder:"카테고리"}),t.jsx(ot,{label:"브랜드",name:"brand",value:x.brand,onChange:F,placeholder:"브랜드"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[{title:"총 판매액",value:v.totalSales,formatter:T=>`${T.toLocaleString()}원`},{title:"총 판매 수량",value:v.totalQuantity,formatter:T=>`${T.toLocaleString()}개`},{title:"판매 기록 수",value:v.recordCount,formatter:T=>`${T.toLocaleString()}건`}].map(T=>t.jsx(mc,{...T},T.title))}),t.jsxs(se,{children:[t.jsx(me,{children:t.jsx(he,{children:"판매 기록"})}),t.jsx(ae,{children:t.jsx(Qr,{columns:[{key:"saleDate",label:"날짜",render:T=>new Date(T).toLocaleDateString()},{key:"product",label:"제품명",render:T=>T.name},{key:"product",label:"카테고리",render:T=>T.category},{key:"quantity",label:"수량"},{key:"amount",label:"금액",render:T=>`${T.toLocaleString()}원`},{key:"user",label:"담당자",render:T=>T.name}],data:y,loading:n,emptyMessage:"판매 기록이 없습니다."})})]})]}),t.jsxs(wt,{value:"predictions",children:[t.jsxs(Xr,{title:"재고 예측 설정",onApply:ue,children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"예측 기간 (일)"}),t.jsx(le,{type:"number",value:N,onChange:T=>m(parseInt(T.target.value)),min:"1",max:"365"})]}),t.jsx(ot,{label:"카테고리",name:"category",value:j.category,onChange:q,placeholder:"카테고리"}),t.jsx(ot,{label:"재주문 필요 항목만 표시",type:"checkbox",name:"needsReorder",value:j.needsReorder,onChange:q,placeholder:"재주문 필요 항목만 표시"})]}),t.jsxs(se,{children:[t.jsx(me,{children:t.jsx(he,{children:"재고 예측 결과"})}),t.jsx(ae,{children:t.jsx(Qr,{columns:[{key:"productName",label:"제품명"},{key:"category",label:"카테고리"},{key:"currentStock",label:"현재 재고"},{key:"predictedDemand",label:"예상 수요"},{key:"suggestedOrderQuantity",label:"권장 주문량"},{key:"needsReorder",label:"재주문 필요",render:T=>t.jsx("span",{className:`px-2 py-1 rounded text-sm ${T?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:T?"필요":"불필요"})}],data:p,loading:n,emptyMessage:"예측 결과가 없습니다."})})]})]}),t.jsxs(wt,{value:"settings",children:[t.jsxs(se,{className:"mb-6",children:[t.jsx(me,{children:t.jsx(he,{children:"새 설정 추가"})}),t.jsxs(ae,{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[[{key:"key",label:"키",placeholder:"설정 키"},{key:"value",label:"값",placeholder:"설정 값"},{key:"description",label:"설명",placeholder:"설정 설명"}].map(T=>t.jsx(ot,{label:T.label,name:T.key,value:D[T.key],onChange:$,placeholder:T.placeholder},T.key)),t.jsx(ot,{label:"타입",type:"select",name:"type",value:D.type,onChange:$,options:[{value:"string",label:"문자열"},{value:"number",label:"숫자"},{value:"boolean",label:"불린"},{value:"json",label:"JSON"}]})]}),t.jsx(Dt,{children:t.jsx(xe,{onClick:W,children:"설정 추가"})})]}),t.jsxs(se,{children:[t.jsx(me,{children:t.jsx(he,{children:"시스템 설정"})}),t.jsx(ae,{children:n?t.jsxs("div",{className:"flex items-center justify-center h-64",children:[t.jsx(Pe,{className:"h-8 w-8 animate-spin"}),t.jsx("span",{className:"ml-2",children:"데이터를 불러오는 중..."})]}):Object.keys(S).length>0?t.jsx("div",{className:"space-y-4",children:Object.entries(S).map(([T,k])=>t.jsx("div",{className:"border p-4 rounded",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-center",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"키"}),t.jsx("p",{className:"text-sm text-gray-600",children:T})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"값"}),k.type==="boolean"?t.jsxs("select",{value:k.value,onChange:L=>we(T,L.target.value),className:"w-full p-2 border rounded",children:[t.jsx("option",{value:"true",children:"true"}),t.jsx("option",{value:"false",children:"false"})]}):k.type==="json"?t.jsx("textarea",{value:typeof k.value=="object"?JSON.stringify(k.value,null,2):k.value,onChange:L=>we(T,L.target.value),className:"w-full p-2 border rounded",rows:3}):t.jsx(le,{type:k.type==="number"?"number":"text",value:k.value,onChange:L=>we(T,L.target.value)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"타입"}),t.jsx("p",{className:"text-sm text-gray-600",children:k.type})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"설명"}),t.jsx("p",{className:"text-sm text-gray-600",children:k.description||"설명 없음"}),t.jsx(xe,{variant:"destructive",size:"sm",onClick:()=>G(T),className:"mt-2",children:"삭제"})]})]})},T))}):t.jsx("p",{className:"text-center text-gray-500 py-8",children:"설정이 없습니다."})})]})]})]})]})});function Gr(e,[s,r]){return Math.min(r,Math.max(s,e))}const xc=["top","right","bottom","left"],lt=Math.min,De=Math.max,gs=Math.round,as=Math.floor,Ke=e=>({x:e,y:e}),pc={left:"right",right:"left",bottom:"top",top:"bottom"},gc={start:"end",end:"start"};function Us(e,s,r){return De(e,lt(s,r))}function tt(e,s){return typeof e=="function"?e(s):e}function st(e){return e.split("-")[0]}function Ft(e){return e.split("-")[1]}function mr(e){return e==="x"?"y":"x"}function hr(e){return e==="y"?"height":"width"}function ze(e){return["top","bottom"].includes(st(e))?"y":"x"}function xr(e){return mr(ze(e))}function yc(e,s,r){r===void 0&&(r=!1);const n=Ft(e),a=xr(e),o=hr(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return s.reference[o]>s.floating[o]&&(i=ys(i)),[i,ys(i)]}function vc(e){const s=ys(e);return[Ys(e),s,Ys(s)]}function Ys(e){return e.replace(/start|end/g,s=>gc[s])}function bc(e,s,r){const n=["left","right"],a=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?s?a:n:s?n:a;case"left":case"right":return s?o:i;default:return[]}}function wc(e,s,r,n){const a=Ft(e);let o=bc(st(e),r==="start",n);return a&&(o=o.map(i=>i+"-"+a),s&&(o=o.concat(o.map(Ys)))),o}function ys(e){return e.replace(/left|right|bottom|top/g,s=>pc[s])}function jc(e){return{top:0,right:0,bottom:0,left:0,...e}}function Yn(e){return typeof e!="number"?jc(e):{top:e,right:e,bottom:e,left:e}}function vs(e){const{x:s,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:s,right:s+n,bottom:r+a,x:s,y:r}}function Jr(e,s,r){let{reference:n,floating:a}=e;const o=ze(s),i=xr(s),c=hr(i),u=st(s),d=o==="y",f=n.x+n.width/2-a.width/2,x=n.y+n.height/2-a.height/2,g=n[c]/2-a[c]/2;let y;switch(u){case"top":y={x:f,y:n.y-a.height};break;case"bottom":y={x:f,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:x};break;case"left":y={x:n.x-a.width,y:x};break;default:y={x:n.x,y:n.y}}switch(Ft(s)){case"start":y[i]-=g*(r&&d?-1:1);break;case"end":y[i]+=g*(r&&d?-1:1);break}return y}const Nc=async(e,s,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:i}=r,c=o.filter(Boolean),u=await(i.isRTL==null?void 0:i.isRTL(s));let d=await i.getElementRects({reference:e,floating:s,strategy:a}),{x:f,y:x}=Jr(d,n,u),g=n,y={},v=0;for(let p=0;p<c.length;p++){const{name:b,fn:N}=c[p],{x:m,y:j,data:P,reset:S}=await N({x:f,y:x,initialPlacement:n,placement:g,strategy:a,middlewareData:y,rects:d,platform:i,elements:{reference:e,floating:s}});f=m??f,x=j??x,y={...y,[b]:{...y[b],...P}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(g=S.placement),S.rects&&(d=S.rects===!0?await i.getElementRects({reference:e,floating:s,strategy:a}):S.rects),{x:f,y:x}=Jr(d,g,u)),p=-1)}return{x:f,y:x,placement:g,strategy:a,middlewareData:y}};async function Kt(e,s){var r;s===void 0&&(s={});const{x:n,y:a,platform:o,rects:i,elements:c,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:x="floating",altBoundary:g=!1,padding:y=0}=tt(s,e),v=Yn(y),b=c[g?x==="floating"?"reference":"floating":x],N=vs(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(b)))==null||r?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:d,rootBoundary:f,strategy:u})),m=x==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),P=await(o.isElement==null?void 0:o.isElement(j))?await(o.getScale==null?void 0:o.getScale(j))||{x:1,y:1}:{x:1,y:1},S=vs(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:m,offsetParent:j,strategy:u}):m);return{top:(N.top-S.top+v.top)/P.y,bottom:(S.bottom-N.bottom+v.bottom)/P.y,left:(N.left-S.left+v.left)/P.x,right:(S.right-N.right+v.right)/P.x}}const Sc=e=>({name:"arrow",options:e,async fn(s){const{x:r,y:n,placement:a,rects:o,platform:i,elements:c,middlewareData:u}=s,{element:d,padding:f=0}=tt(e,s)||{};if(d==null)return{};const x=Yn(f),g={x:r,y:n},y=xr(a),v=hr(y),p=await i.getDimensions(d),b=y==="y",N=b?"top":"left",m=b?"bottom":"right",j=b?"clientHeight":"clientWidth",P=o.reference[v]+o.reference[y]-g[y]-o.floating[v],S=g[y]-o.reference[y],O=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let D=O?O[j]:0;(!D||!await(i.isElement==null?void 0:i.isElement(O)))&&(D=c.floating[j]||o.floating[v]);const H=P/2-S/2,Y=D/2-p[v]/2-1,K=lt(x[N],Y),z=lt(x[m],Y),I=K,M=D-p[v]-z,E=D/2-p[v]/2+H,V=Us(I,E,M),F=!u.arrow&&Ft(a)!=null&&E!==V&&o.reference[v]/2-(E<I?K:z)-p[v]/2<0,q=F?E<I?E-I:E-M:0;return{[y]:g[y]+q,data:{[y]:V,centerOffset:E-V-q,...F&&{alignmentOffset:q}},reset:F}}}),kc=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(s){var r,n;const{placement:a,middlewareData:o,rects:i,initialPlacement:c,platform:u,elements:d}=s,{mainAxis:f=!0,crossAxis:x=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...b}=tt(e,s);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const N=st(a),m=ze(c),j=st(c)===c,P=await(u.isRTL==null?void 0:u.isRTL(d.floating)),S=g||(j||!p?[ys(c)]:vc(c)),O=v!=="none";!g&&O&&S.push(...wc(c,p,v,P));const D=[c,...S],H=await Kt(s,b),Y=[];let K=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&Y.push(H[N]),x){const E=yc(a,i,P);Y.push(H[E[0]],H[E[1]])}if(K=[...K,{placement:a,overflows:Y}],!Y.every(E=>E<=0)){var z,I;const E=(((z=o.flip)==null?void 0:z.index)||0)+1,V=D[E];if(V&&(!(x==="alignment"?m!==ze(V):!1)||K.every($=>$.overflows[0]>0&&ze($.placement)===m)))return{data:{index:E,overflows:K},reset:{placement:V}};let F=(I=K.filter(q=>q.overflows[0]<=0).sort((q,$)=>q.overflows[1]-$.overflows[1])[0])==null?void 0:I.placement;if(!F)switch(y){case"bestFit":{var M;const q=(M=K.filter($=>{if(O){const X=ze($.placement);return X===m||X==="y"}return!0}).map($=>[$.placement,$.overflows.filter(X=>X>0).reduce((X,ue)=>X+ue,0)]).sort(($,X)=>$[1]-X[1])[0])==null?void 0:M[0];q&&(F=q);break}case"initialPlacement":F=c;break}if(a!==F)return{reset:{placement:F}}}return{}}}};function Zr(e,s){return{top:e.top-s.height,right:e.right-s.width,bottom:e.bottom-s.height,left:e.left-s.width}}function en(e){return xc.some(s=>e[s]>=0)}const Cc=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(s){const{rects:r}=s,{strategy:n="referenceHidden",...a}=tt(e,s);switch(n){case"referenceHidden":{const o=await Kt(s,{...a,elementContext:"reference"}),i=Zr(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:en(i)}}}case"escaped":{const o=await Kt(s,{...a,altBoundary:!0}),i=Zr(o,r.floating);return{data:{escapedOffsets:i,escaped:en(i)}}}default:return{}}}}};async function Tc(e,s){const{placement:r,platform:n,elements:a}=e,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=st(r),c=Ft(r),u=ze(r)==="y",d=["left","top"].includes(i)?-1:1,f=o&&u?-1:1,x=tt(s,e);let{mainAxis:g,crossAxis:y,alignmentAxis:v}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return c&&typeof v=="number"&&(y=c==="end"?v*-1:v),u?{x:y*f,y:g*d}:{x:g*d,y:y*f}}const Pc=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(s){var r,n;const{x:a,y:o,placement:i,middlewareData:c}=s,u=await Tc(s,e);return i===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:a+u.x,y:o+u.y,data:{...u,placement:i}}}}},Ec=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(s){const{x:r,y:n,placement:a}=s,{mainAxis:o=!0,crossAxis:i=!1,limiter:c={fn:b=>{let{x:N,y:m}=b;return{x:N,y:m}}},...u}=tt(e,s),d={x:r,y:n},f=await Kt(s,u),x=ze(st(a)),g=mr(x);let y=d[g],v=d[x];if(o){const b=g==="y"?"top":"left",N=g==="y"?"bottom":"right",m=y+f[b],j=y-f[N];y=Us(m,y,j)}if(i){const b=x==="y"?"top":"left",N=x==="y"?"bottom":"right",m=v+f[b],j=v-f[N];v=Us(m,v,j)}const p=c.fn({...s,[g]:y,[x]:v});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[g]:o,[x]:i}}}}}},Ac=function(e){return e===void 0&&(e={}),{options:e,fn(s){const{x:r,y:n,placement:a,rects:o,middlewareData:i}=s,{offset:c=0,mainAxis:u=!0,crossAxis:d=!0}=tt(e,s),f={x:r,y:n},x=ze(a),g=mr(x);let y=f[g],v=f[x];const p=tt(c,s),b=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(u){const j=g==="y"?"height":"width",P=o.reference[g]-o.floating[j]+b.mainAxis,S=o.reference[g]+o.reference[j]-b.mainAxis;y<P?y=P:y>S&&(y=S)}if(d){var N,m;const j=g==="y"?"width":"height",P=["top","left"].includes(st(a)),S=o.reference[x]-o.floating[j]+(P&&((N=i.offset)==null?void 0:N[x])||0)+(P?0:b.crossAxis),O=o.reference[x]+o.reference[j]+(P?0:((m=i.offset)==null?void 0:m[x])||0)-(P?b.crossAxis:0);v<S?v=S:v>O&&(v=O)}return{[g]:y,[x]:v}}}},Rc=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(s){var r,n;const{placement:a,rects:o,platform:i,elements:c}=s,{apply:u=()=>{},...d}=tt(e,s),f=await Kt(s,d),x=st(a),g=Ft(a),y=ze(a)==="y",{width:v,height:p}=o.floating;let b,N;x==="top"||x==="bottom"?(b=x,N=g===(await(i.isRTL==null?void 0:i.isRTL(c.floating))?"start":"end")?"left":"right"):(N=x,b=g==="end"?"top":"bottom");const m=p-f.top-f.bottom,j=v-f.left-f.right,P=lt(p-f[b],m),S=lt(v-f[N],j),O=!s.middlewareData.shift;let D=P,H=S;if((r=s.middlewareData.shift)!=null&&r.enabled.x&&(H=j),(n=s.middlewareData.shift)!=null&&n.enabled.y&&(D=m),O&&!g){const K=De(f.left,0),z=De(f.right,0),I=De(f.top,0),M=De(f.bottom,0);y?H=v-2*(K!==0||z!==0?K+z:De(f.left,f.right)):D=p-2*(I!==0||M!==0?I+M:De(f.top,f.bottom))}await u({...s,availableWidth:H,availableHeight:D});const Y=await i.getDimensions(c.floating);return v!==Y.width||p!==Y.height?{reset:{rects:!0}}:{}}}};function Cs(){return typeof window<"u"}function Lt(e){return zn(e)?(e.nodeName||"").toLowerCase():"#document"}function Ie(e){var s;return(e==null||(s=e.ownerDocument)==null?void 0:s.defaultView)||window}function Xe(e){var s;return(s=(zn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:s.documentElement}function zn(e){return Cs()?e instanceof Node||e instanceof Ie(e).Node:!1}function $e(e){return Cs()?e instanceof Element||e instanceof Ie(e).Element:!1}function Qe(e){return Cs()?e instanceof HTMLElement||e instanceof Ie(e).HTMLElement:!1}function tn(e){return!Cs()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ie(e).ShadowRoot}function es(e){const{overflow:s,overflowX:r,overflowY:n,display:a}=We(e);return/auto|scroll|overlay|hidden|clip/.test(s+n+r)&&!["inline","contents"].includes(a)}function Dc(e){return["table","td","th"].includes(Lt(e))}function Ts(e){return[":popover-open",":modal"].some(s=>{try{return e.matches(s)}catch{return!1}})}function pr(e){const s=gr(),r=$e(e)?We(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!s&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!s&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Ic(e){let s=dt(e);for(;Qe(s)&&!_t(s);){if(pr(s))return s;if(Ts(s))return null;s=dt(s)}return null}function gr(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _t(e){return["html","body","#document"].includes(Lt(e))}function We(e){return Ie(e).getComputedStyle(e)}function Ps(e){return $e(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function dt(e){if(Lt(e)==="html")return e;const s=e.assignedSlot||e.parentNode||tn(e)&&e.host||Xe(e);return tn(s)?s.host:s}function Kn(e){const s=dt(e);return _t(s)?e.ownerDocument?e.ownerDocument.body:e.body:Qe(s)&&es(s)?s:Kn(s)}function Qt(e,s,r){var n;s===void 0&&(s=[]),r===void 0&&(r=!0);const a=Kn(e),o=a===((n=e.ownerDocument)==null?void 0:n.body),i=Ie(a);if(o){const c=zs(i);return s.concat(i,i.visualViewport||[],es(a)?a:[],c&&r?Qt(c):[])}return s.concat(a,Qt(a,[],r))}function zs(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Qn(e){const s=We(e);let r=parseFloat(s.width)||0,n=parseFloat(s.height)||0;const a=Qe(e),o=a?e.offsetWidth:r,i=a?e.offsetHeight:n,c=gs(r)!==o||gs(n)!==i;return c&&(r=o,n=i),{width:r,height:n,$:c}}function yr(e){return $e(e)?e:e.contextElement}function It(e){const s=yr(e);if(!Qe(s))return Ke(1);const r=s.getBoundingClientRect(),{width:n,height:a,$:o}=Qn(s);let i=(o?gs(r.width):r.width)/n,c=(o?gs(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const Oc=Ke(0);function Xn(e){const s=Ie(e);return!gr()||!s.visualViewport?Oc:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function Mc(e,s,r){return s===void 0&&(s=!1),!r||s&&r!==Ie(e)?!1:s}function jt(e,s,r,n){s===void 0&&(s=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),o=yr(e);let i=Ke(1);s&&(n?$e(n)&&(i=It(n)):i=It(e));const c=Mc(o,r,n)?Xn(o):Ke(0);let u=(a.left+c.x)/i.x,d=(a.top+c.y)/i.y,f=a.width/i.x,x=a.height/i.y;if(o){const g=Ie(o),y=n&&$e(n)?Ie(n):n;let v=g,p=zs(v);for(;p&&n&&y!==v;){const b=It(p),N=p.getBoundingClientRect(),m=We(p),j=N.left+(p.clientLeft+parseFloat(m.paddingLeft))*b.x,P=N.top+(p.clientTop+parseFloat(m.paddingTop))*b.y;u*=b.x,d*=b.y,f*=b.x,x*=b.y,u+=j,d+=P,v=Ie(p),p=zs(v)}}return vs({width:f,height:x,x:u,y:d})}function vr(e,s){const r=Ps(e).scrollLeft;return s?s.left+r:jt(Xe(e)).left+r}function Gn(e,s,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+s.scrollLeft-(r?0:vr(e,n)),o=n.top+s.scrollTop;return{x:a,y:o}}function _c(e){let{elements:s,rect:r,offsetParent:n,strategy:a}=e;const o=a==="fixed",i=Xe(n),c=s?Ts(s.floating):!1;if(n===i||c&&o)return r;let u={scrollLeft:0,scrollTop:0},d=Ke(1);const f=Ke(0),x=Qe(n);if((x||!x&&!o)&&((Lt(n)!=="body"||es(i))&&(u=Ps(n)),Qe(n))){const y=jt(n);d=It(n),f.x=y.x+n.clientLeft,f.y=y.y+n.clientTop}const g=i&&!x&&!o?Gn(i,u,!0):Ke(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-u.scrollLeft*d.x+f.x+g.x,y:r.y*d.y-u.scrollTop*d.y+f.y+g.y}}function Fc(e){return Array.from(e.getClientRects())}function Lc(e){const s=Xe(e),r=Ps(e),n=e.ownerDocument.body,a=De(s.scrollWidth,s.clientWidth,n.scrollWidth,n.clientWidth),o=De(s.scrollHeight,s.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+vr(e);const c=-r.scrollTop;return We(n).direction==="rtl"&&(i+=De(s.clientWidth,n.clientWidth)-a),{width:a,height:o,x:i,y:c}}function Vc(e,s){const r=Ie(e),n=Xe(e),a=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,c=0,u=0;if(a){o=a.width,i=a.height;const d=gr();(!d||d&&s==="fixed")&&(c=a.offsetLeft,u=a.offsetTop)}return{width:o,height:i,x:c,y:u}}function $c(e,s){const r=jt(e,!0,s==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,o=Qe(e)?It(e):Ke(1),i=e.clientWidth*o.x,c=e.clientHeight*o.y,u=a*o.x,d=n*o.y;return{width:i,height:c,x:u,y:d}}function sn(e,s,r){let n;if(s==="viewport")n=Vc(e,r);else if(s==="document")n=Lc(Xe(e));else if($e(s))n=$c(s,r);else{const a=Xn(e);n={x:s.x-a.x,y:s.y-a.y,width:s.width,height:s.height}}return vs(n)}function Jn(e,s){const r=dt(e);return r===s||!$e(r)||_t(r)?!1:We(r).position==="fixed"||Jn(r,s)}function Wc(e,s){const r=s.get(e);if(r)return r;let n=Qt(e,[],!1).filter(c=>$e(c)&&Lt(c)!=="body"),a=null;const o=We(e).position==="fixed";let i=o?dt(e):e;for(;$e(i)&&!_t(i);){const c=We(i),u=pr(i);!u&&c.position==="fixed"&&(a=null),(o?!u&&!a:!u&&c.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||es(i)&&!u&&Jn(e,i))?n=n.filter(f=>f!==i):a=c,i=dt(i)}return s.set(e,n),n}function Bc(e){let{element:s,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?Ts(s)?[]:Wc(s,this._c):[].concat(r),n],c=i[0],u=i.reduce((d,f)=>{const x=sn(s,f,a);return d.top=De(x.top,d.top),d.right=lt(x.right,d.right),d.bottom=lt(x.bottom,d.bottom),d.left=De(x.left,d.left),d},sn(s,c,a));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function qc(e){const{width:s,height:r}=Qn(e);return{width:s,height:r}}function Hc(e,s,r){const n=Qe(s),a=Xe(s),o=r==="fixed",i=jt(e,!0,o,s);let c={scrollLeft:0,scrollTop:0};const u=Ke(0);function d(){u.x=vr(a)}if(n||!n&&!o)if((Lt(s)!=="body"||es(a))&&(c=Ps(s)),n){const y=jt(s,!0,o,s);u.x=y.x+s.clientLeft,u.y=y.y+s.clientTop}else a&&d();o&&!n&&a&&d();const f=a&&!n&&!o?Gn(a,c):Ke(0),x=i.left+c.scrollLeft-u.x-f.x,g=i.top+c.scrollTop-u.y-f.y;return{x,y:g,width:i.width,height:i.height}}function Ls(e){return We(e).position==="static"}function rn(e,s){if(!Qe(e)||We(e).position==="fixed")return null;if(s)return s(e);let r=e.offsetParent;return Xe(e)===r&&(r=r.ownerDocument.body),r}function Zn(e,s){const r=Ie(e);if(Ts(e))return r;if(!Qe(e)){let a=dt(e);for(;a&&!_t(a);){if($e(a)&&!Ls(a))return a;a=dt(a)}return r}let n=rn(e,s);for(;n&&Dc(n)&&Ls(n);)n=rn(n,s);return n&&_t(n)&&Ls(n)&&!pr(n)?r:n||Ic(e)||r}const Uc=async function(e){const s=this.getOffsetParent||Zn,r=this.getDimensions,n=await r(e.floating);return{reference:Hc(e.reference,await s(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Yc(e){return We(e).direction==="rtl"}const zc={convertOffsetParentRelativeRectToViewportRelativeRect:_c,getDocumentElement:Xe,getClippingRect:Bc,getOffsetParent:Zn,getElementRects:Uc,getClientRects:Fc,getDimensions:qc,getScale:It,isElement:$e,isRTL:Yc};function ea(e,s){return e.x===s.x&&e.y===s.y&&e.width===s.width&&e.height===s.height}function Kc(e,s){let r=null,n;const a=Xe(e);function o(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function i(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),o();const d=e.getBoundingClientRect(),{left:f,top:x,width:g,height:y}=d;if(c||s(),!g||!y)return;const v=as(x),p=as(a.clientWidth-(f+g)),b=as(a.clientHeight-(x+y)),N=as(f),j={rootMargin:-v+"px "+-p+"px "+-b+"px "+-N+"px",threshold:De(0,lt(1,u))||1};let P=!0;function S(O){const D=O[0].intersectionRatio;if(D!==u){if(!P)return i();D?i(!1,D):n=setTimeout(()=>{i(!1,1e-7)},1e3)}D===1&&!ea(d,e.getBoundingClientRect())&&i(),P=!1}try{r=new IntersectionObserver(S,{...j,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,j)}r.observe(e)}return i(!0),o}function Qc(e,s,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,d=yr(e),f=a||o?[...d?Qt(d):[],...Qt(s)]:[];f.forEach(N=>{a&&N.addEventListener("scroll",r,{passive:!0}),o&&N.addEventListener("resize",r)});const x=d&&c?Kc(d,r):null;let g=-1,y=null;i&&(y=new ResizeObserver(N=>{let[m]=N;m&&m.target===d&&y&&(y.unobserve(s),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var j;(j=y)==null||j.observe(s)})),r()}),d&&!u&&y.observe(d),y.observe(s));let v,p=u?jt(e):null;u&&b();function b(){const N=jt(e);p&&!ea(p,N)&&r(),p=N,v=requestAnimationFrame(b)}return r(),()=>{var N;f.forEach(m=>{a&&m.removeEventListener("scroll",r),o&&m.removeEventListener("resize",r)}),x==null||x(),(N=y)==null||N.disconnect(),y=null,u&&cancelAnimationFrame(v)}}const Xc=Pc,Gc=Ec,Jc=kc,Zc=Rc,el=Cc,nn=Sc,tl=Ac,sl=(e,s,r)=>{const n=new Map,a={platform:zc,...r},o={...a.platform,_c:n};return Nc(e,s,{...a,platform:o})};var rl=typeof document<"u",nl=function(){},ls=rl?l.useLayoutEffect:nl;function bs(e,s){if(e===s)return!0;if(typeof e!=typeof s)return!1;if(typeof e=="function"&&e.toString()===s.toString())return!0;let r,n,a;if(e&&s&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==s.length)return!1;for(n=r;n--!==0;)if(!bs(e[n],s[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(s).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(s,a[n]))return!1;for(n=r;n--!==0;){const o=a[n];if(!(o==="_owner"&&e.$$typeof)&&!bs(e[o],s[o]))return!1}return!0}return e!==e&&s!==s}function ta(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function an(e,s){const r=ta(e);return Math.round(s*r)/r}function Vs(e){const s=l.useRef(e);return ls(()=>{s.current=e}),s}function al(e){e===void 0&&(e={});const{placement:s="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:o,floating:i}={},transform:c=!0,whileElementsMounted:u,open:d}=e,[f,x]=l.useState({x:0,y:0,strategy:r,placement:s,middlewareData:{},isPositioned:!1}),[g,y]=l.useState(n);bs(g,n)||y(n);const[v,p]=l.useState(null),[b,N]=l.useState(null),m=l.useCallback($=>{$!==O.current&&(O.current=$,p($))},[]),j=l.useCallback($=>{$!==D.current&&(D.current=$,N($))},[]),P=o||v,S=i||b,O=l.useRef(null),D=l.useRef(null),H=l.useRef(f),Y=u!=null,K=Vs(u),z=Vs(a),I=Vs(d),M=l.useCallback(()=>{if(!O.current||!D.current)return;const $={placement:s,strategy:r,middleware:g};z.current&&($.platform=z.current),sl(O.current,D.current,$).then(X=>{const ue={...X,isPositioned:I.current!==!1};E.current&&!bs(H.current,ue)&&(H.current=ue,Jt.flushSync(()=>{x(ue)}))})},[g,s,r,z,I]);ls(()=>{d===!1&&H.current.isPositioned&&(H.current.isPositioned=!1,x($=>({...$,isPositioned:!1})))},[d]);const E=l.useRef(!1);ls(()=>(E.current=!0,()=>{E.current=!1}),[]),ls(()=>{if(P&&(O.current=P),S&&(D.current=S),P&&S){if(K.current)return K.current(P,S,M);M()}},[P,S,M,K,Y]);const V=l.useMemo(()=>({reference:O,floating:D,setReference:m,setFloating:j}),[m,j]),F=l.useMemo(()=>({reference:P,floating:S}),[P,S]),q=l.useMemo(()=>{const $={position:r,left:0,top:0};if(!F.floating)return $;const X=an(F.floating,f.x),ue=an(F.floating,f.y);return c?{...$,transform:"translate("+X+"px, "+ue+"px)",...ta(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:X,top:ue}},[r,c,F.floating,f.x,f.y]);return l.useMemo(()=>({...f,update:M,refs:V,elements:F,floatingStyles:q}),[f,M,V,F,q])}const ol=e=>{function s(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&s(n)?n.current!=null?nn({element:n.current,padding:a}).fn(r):{}:n?nn({element:n,padding:a}).fn(r):{}}}},il=(e,s)=>({...Xc(e),options:[e,s]}),cl=(e,s)=>({...Gc(e),options:[e,s]}),ll=(e,s)=>({...tl(e),options:[e,s]}),dl=(e,s)=>({...Jc(e),options:[e,s]}),ul=(e,s)=>({...Zc(e),options:[e,s]}),fl=(e,s)=>({...el(e),options:[e,s]}),ml=(e,s)=>({...ol(e),options:[e,s]});var hl="Arrow",sa=l.forwardRef((e,s)=>{const{children:r,width:n=10,height:a=5,...o}=e;return t.jsx(de.svg,{...o,ref:s,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:t.jsx("polygon",{points:"0,0 30,0 15,10"})})});sa.displayName=hl;var xl=sa;function ra(e){const[s,r]=l.useState(void 0);return Me(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,c;if("borderBoxSize"in o){const u=o.borderBoxSize,d=Array.isArray(u)?u[0]:u;i=d.inlineSize,c=d.blockSize}else i=e.offsetWidth,c=e.offsetHeight;r({width:i,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),s}var br="Popper",[na,aa]=Ss(br),[pl,oa]=na(br),ia=e=>{const{__scopePopper:s,children:r}=e,[n,a]=l.useState(null);return t.jsx(pl,{scope:s,anchor:n,onAnchorChange:a,children:r})};ia.displayName=br;var ca="PopperAnchor",la=l.forwardRef((e,s)=>{const{__scopePopper:r,virtualRef:n,...a}=e,o=oa(ca,r),i=l.useRef(null),c=Ce(s,i);return l.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:t.jsx(de.div,{...a,ref:c})});la.displayName=ca;var wr="PopperContent",[gl,yl]=na(wr),da=l.forwardRef((e,s)=>{var k,L,J,Q,Z,te;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:x="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:v,...p}=e,b=oa(wr,r),[N,m]=l.useState(null),j=Ce(s,Te=>m(Te)),[P,S]=l.useState(null),O=ra(P),D=(O==null?void 0:O.width)??0,H=(O==null?void 0:O.height)??0,Y=n+(o!=="center"?"-"+o:""),K=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},z=Array.isArray(d)?d:[d],I=z.length>0,M={padding:K,boundary:z.filter(bl),altBoundary:I},{refs:E,floatingStyles:V,placement:F,isPositioned:q,middlewareData:$}=al({strategy:"fixed",placement:Y,whileElementsMounted:(...Te)=>Qc(...Te,{animationFrame:y==="always"}),elements:{reference:b.anchor},middleware:[il({mainAxis:a+H,alignmentAxis:i}),u&&cl({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?ll():void 0,...M}),u&&dl({...M}),ul({...M,apply:({elements:Te,rects:Re,availableWidth:nt,availableHeight:ht})=>{const{width:xt,height:Tr}=Re.reference,pt=Te.floating.style;pt.setProperty("--radix-popper-available-width",`${nt}px`),pt.setProperty("--radix-popper-available-height",`${ht}px`),pt.setProperty("--radix-popper-anchor-width",`${xt}px`),pt.setProperty("--radix-popper-anchor-height",`${Tr}px`)}}),P&&ml({element:P,padding:c}),wl({arrowWidth:D,arrowHeight:H}),g&&fl({strategy:"referenceHidden",...M})]}),[X,ue]=ma(F),ge=Ot(v);Me(()=>{q&&(ge==null||ge())},[q,ge]);const we=(k=$.arrow)==null?void 0:k.x,je=(L=$.arrow)==null?void 0:L.y,W=((J=$.arrow)==null?void 0:J.centerOffset)!==0,[G,T]=l.useState();return Me(()=>{N&&T(window.getComputedStyle(N).zIndex)},[N]),t.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:q?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(Q=$.transformOrigin)==null?void 0:Q.x,(Z=$.transformOrigin)==null?void 0:Z.y].join(" "),...((te=$.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:t.jsx(gl,{scope:r,placedSide:X,onArrowChange:S,arrowX:we,arrowY:je,shouldHideArrow:W,children:t.jsx(de.div,{"data-side":X,"data-align":ue,...p,ref:j,style:{...p.style,animation:q?void 0:"none"}})})})});da.displayName=wr;var ua="PopperArrow",vl={top:"bottom",right:"left",bottom:"top",left:"right"},fa=l.forwardRef(function(s,r){const{__scopePopper:n,...a}=s,o=yl(ua,n),i=vl[o.placedSide];return t.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:t.jsx(xl,{...a,ref:r,style:{...a.style,display:"block"}})})});fa.displayName=ua;function bl(e){return e!==null}var wl=e=>({name:"transformOrigin",options:e,fn(s){var b,N,m;const{placement:r,rects:n,middlewareData:a}=s,i=((b=a.arrow)==null?void 0:b.centerOffset)!==0,c=i?0:e.arrowWidth,u=i?0:e.arrowHeight,[d,f]=ma(r),x={start:"0%",center:"50%",end:"100%"}[f],g=(((N=a.arrow)==null?void 0:N.x)??0)+c/2,y=(((m=a.arrow)==null?void 0:m.y)??0)+u/2;let v="",p="";return d==="bottom"?(v=i?x:`${g}px`,p=`${-u}px`):d==="top"?(v=i?x:`${g}px`,p=`${n.floating.height+u}px`):d==="right"?(v=`${-u}px`,p=i?x:`${y}px`):d==="left"&&(v=`${n.floating.width+u}px`,p=i?x:`${y}px`),{data:{x:v,y:p}}}});function ma(e){const[s,r="center"]=e.split("-");return[s,r]}var jl=ia,Nl=la,Sl=da,kl=fa;function ha(e){const s=l.useRef({value:e,previous:e});return l.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}var xa=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Cl="VisuallyHidden",jr=l.forwardRef((e,s)=>t.jsx(de.span,{...e,ref:s,style:{...xa,...e.style}}));jr.displayName=Cl;var Tl=[" ","Enter","ArrowUp","ArrowDown"],Pl=[" ","Enter"],Nt="Select",[Es,As,El]=Nn(Nt),[Vt,of]=Ss(Nt,[El,aa]),Rs=aa(),[Al,ft]=Vt(Nt),[Rl,Dl]=Vt(Nt),pa=e=>{const{__scopeSelect:s,children:r,open:n,defaultOpen:a,onOpenChange:o,value:i,defaultValue:c,onValueChange:u,dir:d,name:f,autoComplete:x,disabled:g,required:y,form:v}=e,p=Rs(s),[b,N]=l.useState(null),[m,j]=l.useState(null),[P,S]=l.useState(!1),O=ai(d),[D,H]=fs({prop:n,defaultProp:a??!1,onChange:o,caller:Nt}),[Y,K]=fs({prop:i,defaultProp:c,onChange:u,caller:Nt}),z=l.useRef(null),I=b?v||!!b.closest("form"):!0,[M,E]=l.useState(new Set),V=Array.from(M).map(F=>F.props.value).join(";");return t.jsx(jl,{...p,children:t.jsxs(Al,{required:y,scope:s,trigger:b,onTriggerChange:N,valueNode:m,onValueNodeChange:j,valueNodeHasChildren:P,onValueNodeHasChildrenChange:S,contentId:nr(),value:Y,onValueChange:K,open:D,onOpenChange:H,dir:O,triggerPointerDownPosRef:z,disabled:g,children:[t.jsx(Es.Provider,{scope:s,children:t.jsx(Rl,{scope:e.__scopeSelect,onNativeOptionAdd:l.useCallback(F=>{E(q=>new Set(q).add(F))},[]),onNativeOptionRemove:l.useCallback(F=>{E(q=>{const $=new Set(q);return $.delete(F),$})},[]),children:r})}),I?t.jsxs($a,{"aria-hidden":!0,required:y,tabIndex:-1,name:f,autoComplete:x,value:Y,onChange:F=>K(F.target.value),disabled:g,form:v,children:[Y===void 0?t.jsx("option",{value:""}):null,Array.from(M)]},V):null]})})};pa.displayName=Nt;var ga="SelectTrigger",ya=l.forwardRef((e,s)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,o=Rs(r),i=ft(ga,r),c=i.disabled||n,u=Ce(s,i.onTriggerChange),d=As(r),f=l.useRef("touch"),[x,g,y]=Ba(p=>{const b=d().filter(j=>!j.disabled),N=b.find(j=>j.value===i.value),m=qa(b,p,N);m!==void 0&&i.onValueChange(m.value)}),v=p=>{c||(i.onOpenChange(!0),y()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return t.jsx(Nl,{asChild:!0,...o,children:t.jsx(de.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Wa(i.value)?"":void 0,...a,ref:u,onClick:oe(a.onClick,p=>{p.currentTarget.focus(),f.current!=="mouse"&&v(p)}),onPointerDown:oe(a.onPointerDown,p=>{f.current=p.pointerType;const b=p.target;b.hasPointerCapture(p.pointerId)&&b.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:oe(a.onKeyDown,p=>{const b=x.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&g(p.key),!(b&&p.key===" ")&&Tl.includes(p.key)&&(v(),p.preventDefault())})})})});ya.displayName=ga;var va="SelectValue",ba=l.forwardRef((e,s)=>{const{__scopeSelect:r,className:n,style:a,children:o,placeholder:i="",...c}=e,u=ft(va,r),{onValueNodeHasChildrenChange:d}=u,f=o!==void 0,x=Ce(s,u.onValueNodeChange);return Me(()=>{d(f)},[d,f]),t.jsx(de.span,{...c,ref:x,style:{pointerEvents:"none"},children:Wa(u.value)?t.jsx(t.Fragment,{children:i}):o})});ba.displayName=va;var Il="SelectIcon",wa=l.forwardRef((e,s)=>{const{__scopeSelect:r,children:n,...a}=e;return t.jsx(de.span,{"aria-hidden":!0,...a,ref:s,children:n||"▼"})});wa.displayName=Il;var Ol="SelectPortal",ja=e=>t.jsx(Sn,{asChild:!0,...e});ja.displayName=Ol;var St="SelectContent",Na=l.forwardRef((e,s)=>{const r=ft(St,e.__scopeSelect),[n,a]=l.useState();if(Me(()=>{a(new DocumentFragment)},[]),!r.open){const o=n;return o?Jt.createPortal(t.jsx(Sa,{scope:e.__scopeSelect,children:t.jsx(Es.Slot,{scope:e.__scopeSelect,children:t.jsx("div",{children:e.children})})}),o):null}return t.jsx(ka,{...e,ref:s})});Na.displayName=St;var _e=10,[Sa,mt]=Vt(St),Ml="SelectContentImpl",_l=si("SelectContent.RemoveScroll"),ka=l.forwardRef((e,s)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:c,sideOffset:u,align:d,alignOffset:f,arrowPadding:x,collisionBoundary:g,collisionPadding:y,sticky:v,hideWhenDetached:p,avoidCollisions:b,...N}=e,m=ft(St,r),[j,P]=l.useState(null),[S,O]=l.useState(null),D=Ce(s,k=>P(k)),[H,Y]=l.useState(null),[K,z]=l.useState(null),I=As(r),[M,E]=l.useState(!1),V=l.useRef(!1);l.useEffect(()=>{if(j)return Zo(j)},[j]),ei();const F=l.useCallback(k=>{const[L,...J]=I().map(te=>te.ref.current),[Q]=J.slice(-1),Z=document.activeElement;for(const te of k)if(te===Z||(te==null||te.scrollIntoView({block:"nearest"}),te===L&&S&&(S.scrollTop=0),te===Q&&S&&(S.scrollTop=S.scrollHeight),te==null||te.focus(),document.activeElement!==Z))return},[I,S]),q=l.useCallback(()=>F([H,j]),[F,H,j]);l.useEffect(()=>{M&&q()},[M,q]);const{onOpenChange:$,triggerPointerDownPosRef:X}=m;l.useEffect(()=>{if(j){let k={x:0,y:0};const L=Q=>{var Z,te;k={x:Math.abs(Math.round(Q.pageX)-(((Z=X.current)==null?void 0:Z.x)??0)),y:Math.abs(Math.round(Q.pageY)-(((te=X.current)==null?void 0:te.y)??0))}},J=Q=>{k.x<=10&&k.y<=10?Q.preventDefault():j.contains(Q.target)||$(!1),document.removeEventListener("pointermove",L),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",L),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",L),document.removeEventListener("pointerup",J,{capture:!0})}}},[j,$,X]),l.useEffect(()=>{const k=()=>$(!1);return window.addEventListener("blur",k),window.addEventListener("resize",k),()=>{window.removeEventListener("blur",k),window.removeEventListener("resize",k)}},[$]);const[ue,ge]=Ba(k=>{const L=I().filter(Z=>!Z.disabled),J=L.find(Z=>Z.ref.current===document.activeElement),Q=qa(L,k,J);Q&&setTimeout(()=>Q.ref.current.focus())}),we=l.useCallback((k,L,J)=>{const Q=!V.current&&!J;(m.value!==void 0&&m.value===L||Q)&&(Y(k),Q&&(V.current=!0))},[m.value]),je=l.useCallback(()=>j==null?void 0:j.focus(),[j]),W=l.useCallback((k,L,J)=>{const Q=!V.current&&!J;(m.value!==void 0&&m.value===L||Q)&&z(k)},[m.value]),G=n==="popper"?Ks:Ca,T=G===Ks?{side:c,sideOffset:u,align:d,alignOffset:f,arrowPadding:x,collisionBoundary:g,collisionPadding:y,sticky:v,hideWhenDetached:p,avoidCollisions:b}:{};return t.jsx(Sa,{scope:r,content:j,viewport:S,onViewportChange:O,itemRefCallback:we,selectedItem:H,onItemLeave:je,itemTextRefCallback:W,focusSelectedItem:q,selectedItemText:K,position:n,isPositioned:M,searchRef:ue,children:t.jsx(ti,{as:_l,allowPinchZoom:!0,children:t.jsx(ri,{asChild:!0,trapped:m.open,onMountAutoFocus:k=>{k.preventDefault()},onUnmountAutoFocus:oe(a,k=>{var L;(L=m.trigger)==null||L.focus({preventScroll:!0}),k.preventDefault()}),children:t.jsx(ni,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:k=>k.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:t.jsx(G,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:k=>k.preventDefault(),...N,...T,onPlaced:()=>E(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:oe(N.onKeyDown,k=>{const L=k.ctrlKey||k.altKey||k.metaKey;if(k.key==="Tab"&&k.preventDefault(),!L&&k.key.length===1&&ge(k.key),["ArrowUp","ArrowDown","Home","End"].includes(k.key)){let Q=I().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);if(["ArrowUp","End"].includes(k.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(k.key)){const Z=k.target,te=Q.indexOf(Z);Q=Q.slice(te+1)}setTimeout(()=>F(Q)),k.preventDefault()}})})})})})})});ka.displayName=Ml;var Fl="SelectItemAlignedPosition",Ca=l.forwardRef((e,s)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,o=ft(St,r),i=mt(St,r),[c,u]=l.useState(null),[d,f]=l.useState(null),x=Ce(s,D=>f(D)),g=As(r),y=l.useRef(!1),v=l.useRef(!0),{viewport:p,selectedItem:b,selectedItemText:N,focusSelectedItem:m}=i,j=l.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&d&&p&&b&&N){const D=o.trigger.getBoundingClientRect(),H=d.getBoundingClientRect(),Y=o.valueNode.getBoundingClientRect(),K=N.getBoundingClientRect();if(o.dir!=="rtl"){const Z=K.left-H.left,te=Y.left-Z,Te=D.left-te,Re=D.width+Te,nt=Math.max(Re,H.width),ht=window.innerWidth-_e,xt=Gr(te,[_e,Math.max(_e,ht-nt)]);c.style.minWidth=Re+"px",c.style.left=xt+"px"}else{const Z=H.right-K.right,te=window.innerWidth-Y.right-Z,Te=window.innerWidth-D.right-te,Re=D.width+Te,nt=Math.max(Re,H.width),ht=window.innerWidth-_e,xt=Gr(te,[_e,Math.max(_e,ht-nt)]);c.style.minWidth=Re+"px",c.style.right=xt+"px"}const z=g(),I=window.innerHeight-_e*2,M=p.scrollHeight,E=window.getComputedStyle(d),V=parseInt(E.borderTopWidth,10),F=parseInt(E.paddingTop,10),q=parseInt(E.borderBottomWidth,10),$=parseInt(E.paddingBottom,10),X=V+F+M+$+q,ue=Math.min(b.offsetHeight*5,X),ge=window.getComputedStyle(p),we=parseInt(ge.paddingTop,10),je=parseInt(ge.paddingBottom,10),W=D.top+D.height/2-_e,G=I-W,T=b.offsetHeight/2,k=b.offsetTop+T,L=V+F+k,J=X-L;if(L<=W){const Z=z.length>0&&b===z[z.length-1].ref.current;c.style.bottom="0px";const te=d.clientHeight-p.offsetTop-p.offsetHeight,Te=Math.max(G,T+(Z?je:0)+te+q),Re=L+Te;c.style.height=Re+"px"}else{const Z=z.length>0&&b===z[0].ref.current;c.style.top="0px";const Te=Math.max(W,V+p.offsetTop+(Z?we:0)+T)+J;c.style.height=Te+"px",p.scrollTop=L-W+p.offsetTop}c.style.margin=`${_e}px 0`,c.style.minHeight=ue+"px",c.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[g,o.trigger,o.valueNode,c,d,p,b,N,o.dir,n]);Me(()=>j(),[j]);const[P,S]=l.useState();Me(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);const O=l.useCallback(D=>{D&&v.current===!0&&(j(),m==null||m(),v.current=!1)},[j,m]);return t.jsx(Vl,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:y,onScrollButtonChange:O,children:t.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:t.jsx(de.div,{...a,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Ca.displayName=Fl;var Ll="SelectPopperPosition",Ks=l.forwardRef((e,s)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=_e,...o}=e,i=Rs(r);return t.jsx(Sl,{...i,...o,ref:s,align:n,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ks.displayName=Ll;var[Vl,Nr]=Vt(St,{}),Qs="SelectViewport",Ta=l.forwardRef((e,s)=>{const{__scopeSelect:r,nonce:n,...a}=e,o=mt(Qs,r),i=Nr(Qs,r),c=Ce(s,o.onViewportChange),u=l.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),t.jsx(Es.Slot,{scope:r,children:t.jsx(de.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:oe(a.onScroll,d=>{const f=d.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:g}=i;if(g!=null&&g.current&&x){const y=Math.abs(u.current-f.scrollTop);if(y>0){const v=window.innerHeight-_e*2,p=parseFloat(x.style.minHeight),b=parseFloat(x.style.height),N=Math.max(p,b);if(N<v){const m=N+y,j=Math.min(v,m),P=m-j;x.style.height=j+"px",x.style.bottom==="0px"&&(f.scrollTop=P>0?P:0,x.style.justifyContent="flex-end")}}}u.current=f.scrollTop})})})]})});Ta.displayName=Qs;var Pa="SelectGroup",[$l,Wl]=Vt(Pa),Bl=l.forwardRef((e,s)=>{const{__scopeSelect:r,...n}=e,a=nr();return t.jsx($l,{scope:r,id:a,children:t.jsx(de.div,{role:"group","aria-labelledby":a,...n,ref:s})})});Bl.displayName=Pa;var Ea="SelectLabel",Aa=l.forwardRef((e,s)=>{const{__scopeSelect:r,...n}=e,a=Wl(Ea,r);return t.jsx(de.div,{id:a.id,...n,ref:s})});Aa.displayName=Ea;var ws="SelectItem",[ql,Ra]=Vt(ws),Da=l.forwardRef((e,s)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:o,...i}=e,c=ft(ws,r),u=mt(ws,r),d=c.value===n,[f,x]=l.useState(o??""),[g,y]=l.useState(!1),v=Ce(s,m=>{var j;return(j=u.itemRefCallback)==null?void 0:j.call(u,m,n,a)}),p=nr(),b=l.useRef("touch"),N=()=>{a||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(ql,{scope:r,value:n,disabled:a,textId:p,isSelected:d,onItemTextChange:l.useCallback(m=>{x(j=>j||((m==null?void 0:m.textContent)??"").trim())},[]),children:t.jsx(Es.ItemSlot,{scope:r,value:n,disabled:a,textValue:f,children:t.jsx(de.div,{role:"option","aria-labelledby":p,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:v,onFocus:oe(i.onFocus,()=>y(!0)),onBlur:oe(i.onBlur,()=>y(!1)),onClick:oe(i.onClick,()=>{b.current!=="mouse"&&N()}),onPointerUp:oe(i.onPointerUp,()=>{b.current==="mouse"&&N()}),onPointerDown:oe(i.onPointerDown,m=>{b.current=m.pointerType}),onPointerMove:oe(i.onPointerMove,m=>{var j;b.current=m.pointerType,a?(j=u.onItemLeave)==null||j.call(u):b.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:oe(i.onPointerLeave,m=>{var j;m.currentTarget===document.activeElement&&((j=u.onItemLeave)==null||j.call(u))}),onKeyDown:oe(i.onKeyDown,m=>{var P;((P=u.searchRef)==null?void 0:P.current)!==""&&m.key===" "||(Pl.includes(m.key)&&N(),m.key===" "&&m.preventDefault())})})})})});Da.displayName=ws;var Ht="SelectItemText",Ia=l.forwardRef((e,s)=>{const{__scopeSelect:r,className:n,style:a,...o}=e,i=ft(Ht,r),c=mt(Ht,r),u=Ra(Ht,r),d=Dl(Ht,r),[f,x]=l.useState(null),g=Ce(s,N=>x(N),u.onItemTextChange,N=>{var m;return(m=c.itemTextRefCallback)==null?void 0:m.call(c,N,u.value,u.disabled)}),y=f==null?void 0:f.textContent,v=l.useMemo(()=>t.jsx("option",{value:u.value,disabled:u.disabled,children:y},u.value),[u.disabled,u.value,y]),{onNativeOptionAdd:p,onNativeOptionRemove:b}=d;return Me(()=>(p(v),()=>b(v)),[p,b,v]),t.jsxs(t.Fragment,{children:[t.jsx(de.span,{id:u.textId,...o,ref:g}),u.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Jt.createPortal(o.children,i.valueNode):null]})});Ia.displayName=Ht;var Oa="SelectItemIndicator",Ma=l.forwardRef((e,s)=>{const{__scopeSelect:r,...n}=e;return Ra(Oa,r).isSelected?t.jsx(de.span,{"aria-hidden":!0,...n,ref:s}):null});Ma.displayName=Oa;var Xs="SelectScrollUpButton",_a=l.forwardRef((e,s)=>{const r=mt(Xs,e.__scopeSelect),n=Nr(Xs,e.__scopeSelect),[a,o]=l.useState(!1),i=Ce(s,n.onScrollButtonChange);return Me(()=>{if(r.viewport&&r.isPositioned){let c=function(){const d=u.scrollTop>0;o(d)};const u=r.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?t.jsx(La,{...e,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=r;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});_a.displayName=Xs;var Gs="SelectScrollDownButton",Fa=l.forwardRef((e,s)=>{const r=mt(Gs,e.__scopeSelect),n=Nr(Gs,e.__scopeSelect),[a,o]=l.useState(!1),i=Ce(s,n.onScrollButtonChange);return Me(()=>{if(r.viewport&&r.isPositioned){let c=function(){const d=u.scrollHeight-u.clientHeight,f=Math.ceil(u.scrollTop)<d;o(f)};const u=r.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?t.jsx(La,{...e,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=r;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});Fa.displayName=Gs;var La=l.forwardRef((e,s)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,o=mt("SelectScrollButton",r),i=l.useRef(null),c=As(r),u=l.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return l.useEffect(()=>()=>u(),[u]),Me(()=>{var f;const d=c().find(x=>x.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[c]),t.jsx(de.div,{"aria-hidden":!0,...a,ref:s,style:{flexShrink:0,...a.style},onPointerDown:oe(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:oe(a.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:oe(a.onPointerLeave,()=>{u()})})}),Hl="SelectSeparator",Va=l.forwardRef((e,s)=>{const{__scopeSelect:r,...n}=e;return t.jsx(de.div,{"aria-hidden":!0,...n,ref:s})});Va.displayName=Hl;var Js="SelectArrow",Ul=l.forwardRef((e,s)=>{const{__scopeSelect:r,...n}=e,a=Rs(r),o=ft(Js,r),i=mt(Js,r);return o.open&&i.position==="popper"?t.jsx(kl,{...a,...n,ref:s}):null});Ul.displayName=Js;var Yl="SelectBubbleInput",$a=l.forwardRef(({__scopeSelect:e,value:s,...r},n)=>{const a=l.useRef(null),o=Ce(n,a),i=ha(s);return l.useEffect(()=>{const c=a.current;if(!c)return;const u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(i!==s&&f){const x=new Event("change",{bubbles:!0});f.call(c,s),c.dispatchEvent(x)}},[i,s]),t.jsx(de.select,{...r,style:{...xa,...r.style},ref:o,defaultValue:s})});$a.displayName=Yl;function Wa(e){return e===""||e===void 0}function Ba(e){const s=Ot(e),r=l.useRef(""),n=l.useRef(0),a=l.useCallback(i=>{const c=r.current+i;s(c),function u(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>u(""),1e3))}(c)},[s]),o=l.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return l.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,o]}function qa(e,s,r){const a=s.length>1&&Array.from(s).every(d=>d===s[0])?s[0]:s,o=r?e.indexOf(r):-1;let i=zl(e,Math.max(o,0));a.length===1&&(i=i.filter(d=>d!==r));const u=i.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return u!==r?u:void 0}function zl(e,s){return e.map((r,n)=>e[(s+n)%e.length])}var Kl=pa,Ha=ya,Ql=ba,Xl=wa,Gl=ja,Ua=Na,Jl=Ta,Ya=Aa,za=Da,Zl=Ia,ed=Ma,Ka=_a,Qa=Fa,Xa=Va;const td=Kl,sd=Ql,Ga=l.forwardRef(({className:e,children:s,...r},n)=>t.jsxs(Ha,{ref:n,className:ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[s,t.jsx(Xl,{asChild:!0,children:t.jsx(kn,{className:"h-4 w-4 opacity-50"})})]}));Ga.displayName=Ha.displayName;const Ja=l.forwardRef(({className:e,...s},r)=>t.jsx(Ka,{ref:r,className:ie("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(oi,{className:"h-4 w-4"})}));Ja.displayName=Ka.displayName;const Za=l.forwardRef(({className:e,...s},r)=>t.jsx(Qa,{ref:r,className:ie("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(kn,{className:"h-4 w-4"})}));Za.displayName=Qa.displayName;const eo=l.forwardRef(({className:e,children:s,position:r="popper",...n},a)=>t.jsx(Gl,{children:t.jsxs(Ua,{ref:a,className:ie("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[t.jsx(Ja,{}),t.jsx(Jl,{className:ie("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),t.jsx(Za,{})]})}));eo.displayName=Ua.displayName;const rd=l.forwardRef(({className:e,...s},r)=>t.jsx(Ya,{ref:r,className:ie("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s}));rd.displayName=Ya.displayName;const Zs=l.forwardRef(({className:e,children:s,...r},n)=>t.jsxs(za,{ref:n,className:ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(ed,{children:t.jsx(ii,{className:"h-4 w-4"})})}),t.jsx(Zl,{children:s})]}));Zs.displayName=za.displayName;const nd=l.forwardRef(({className:e,...s},r)=>t.jsx(Xa,{ref:r,className:ie("-mx-1 my-1 h-px bg-muted",e),...s}));nd.displayName=Xa.displayName;function qe(e){const s=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&s==="[object Date]"?new e.constructor(+e):typeof e=="number"||s==="[object Number]"||typeof e=="string"||s==="[object String]"?new Date(e):new Date(NaN)}function kt(e,s){return e instanceof Date?new e.constructor(s):new Date(s)}const to=6048e5,ad=864e5;let od={};function Ds(){return od}function Xt(e,s){var c,u,d,f;const r=Ds(),n=(s==null?void 0:s.weekStartsOn)??((u=(c=s==null?void 0:s.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,a=qe(e),o=a.getDay(),i=(o<n?7:0)+o-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function js(e){return Xt(e,{weekStartsOn:1})}function so(e){const s=qe(e),r=s.getFullYear(),n=kt(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=js(n),o=kt(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=js(o);return s.getTime()>=a.getTime()?r+1:s.getTime()>=i.getTime()?r:r-1}function on(e){const s=qe(e);return s.setHours(0,0,0,0),s}function cn(e){const s=qe(e),r=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return r.setUTCFullYear(s.getFullYear()),+e-+r}function id(e,s){const r=on(e),n=on(s),a=+r-cn(r),o=+n-cn(n);return Math.round((a-o)/ad)}function cd(e){const s=so(e),r=kt(e,0);return r.setFullYear(s,0,4),r.setHours(0,0,0,0),js(r)}function ld(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function dd(e){if(!ld(e)&&typeof e!="number")return!1;const s=qe(e);return!isNaN(Number(s))}function ud(e){const s=qe(e),r=kt(e,0);return r.setFullYear(s.getFullYear(),0,1),r.setHours(0,0,0,0),r}const fd={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},md=(e,s,r)=>{let n;const a=fd[e];return typeof a=="string"?n=a:s===1?n=a.one:n=a.other.replace("{{count}}",s.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function $s(e){return(s={})=>{const r=s.width?String(s.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const hd={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xd={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pd={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gd={date:$s({formats:hd,defaultWidth:"full"}),time:$s({formats:xd,defaultWidth:"full"}),dateTime:$s({formats:pd,defaultWidth:"full"})},yd={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vd=(e,s,r,n)=>yd[e];function Bt(e){return(s,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,c=r!=null&&r.width?String(r.width):i;a=e.formattingValues[c]||e.formattingValues[i]}else{const i=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(s):s;return a[o]}}const bd={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wd={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jd={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Nd={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Sd={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kd={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Cd=(e,s)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Td={ordinalNumber:Cd,era:Bt({values:bd,defaultWidth:"wide"}),quarter:Bt({values:wd,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Bt({values:jd,defaultWidth:"wide"}),day:Bt({values:Nd,defaultWidth:"wide"}),dayPeriod:Bt({values:Sd,defaultWidth:"wide",formattingValues:kd,defaultFormattingWidth:"wide"})};function qt(e){return(s,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=s.match(a);if(!o)return null;const i=o[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(c)?Ed(c,x=>x.test(i)):Pd(c,x=>x.test(i));let d;d=e.valueCallback?e.valueCallback(u):u,d=r.valueCallback?r.valueCallback(d):d;const f=s.slice(i.length);return{value:d,rest:f}}}function Pd(e,s){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&s(e[r]))return r}function Ed(e,s){for(let r=0;r<e.length;r++)if(s(e[r]))return r}function Ad(e){return(s,r={})=>{const n=s.match(e.matchPattern);if(!n)return null;const a=n[0],o=s.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const c=s.slice(a.length);return{value:i,rest:c}}}const Rd=/^(\d+)(th|st|nd|rd)?/i,Dd=/\d+/i,Id={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Od={any:[/^b/i,/^(a|c)/i]},Md={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_d={any:[/1/i,/2/i,/3/i,/4/i]},Fd={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ld={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Vd={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$d={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Wd={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Bd={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qd={ordinalNumber:Ad({matchPattern:Rd,parsePattern:Dd,valueCallback:e=>parseInt(e,10)}),era:qt({matchPatterns:Id,defaultMatchWidth:"wide",parsePatterns:Od,defaultParseWidth:"any"}),quarter:qt({matchPatterns:Md,defaultMatchWidth:"wide",parsePatterns:_d,defaultParseWidth:"any",valueCallback:e=>e+1}),month:qt({matchPatterns:Fd,defaultMatchWidth:"wide",parsePatterns:Ld,defaultParseWidth:"any"}),day:qt({matchPatterns:Vd,defaultMatchWidth:"wide",parsePatterns:$d,defaultParseWidth:"any"}),dayPeriod:qt({matchPatterns:Wd,defaultMatchWidth:"any",parsePatterns:Bd,defaultParseWidth:"any"})},Hd={code:"en-US",formatDistance:md,formatLong:gd,formatRelative:vd,localize:Td,match:qd,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ud(e){const s=qe(e);return id(s,ud(s))+1}function Yd(e){const s=qe(e),r=+js(s)-+cd(s);return Math.round(r/to)+1}function ro(e,s){var f,x,g,y;const r=qe(e),n=r.getFullYear(),a=Ds(),o=(s==null?void 0:s.firstWeekContainsDate)??((x=(f=s==null?void 0:s.locale)==null?void 0:f.options)==null?void 0:x.firstWeekContainsDate)??a.firstWeekContainsDate??((y=(g=a.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,i=kt(e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const c=Xt(i,s),u=kt(e,0);u.setFullYear(n,0,o),u.setHours(0,0,0,0);const d=Xt(u,s);return r.getTime()>=c.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function zd(e,s){var c,u,d,f;const r=Ds(),n=(s==null?void 0:s.firstWeekContainsDate)??((u=(c=s==null?void 0:s.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,a=ro(e,s),o=kt(e,0);return o.setFullYear(a,0,n),o.setHours(0,0,0,0),Xt(o,s)}function Kd(e,s){const r=qe(e),n=+Xt(r,s)-+zd(r,s);return Math.round(n/to)+1}function ne(e,s){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(s,"0");return r+n}const it={y(e,s){const r=e.getFullYear(),n=r>0?r:1-r;return ne(s==="yy"?n%100:n,s.length)},M(e,s){const r=e.getMonth();return s==="M"?String(r+1):ne(r+1,2)},d(e,s){return ne(e.getDate(),s.length)},a(e,s){const r=e.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,s){return ne(e.getHours()%12||12,s.length)},H(e,s){return ne(e.getHours(),s.length)},m(e,s){return ne(e.getMinutes(),s.length)},s(e,s){return ne(e.getSeconds(),s.length)},S(e,s){const r=s.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return ne(a,s.length)}},Pt={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ln={G:function(e,s,r){const n=e.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,s,r){if(s==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return it.y(e,s)},Y:function(e,s,r,n){const a=ro(e,n),o=a>0?a:1-a;if(s==="YY"){const i=o%100;return ne(i,2)}return s==="Yo"?r.ordinalNumber(o,{unit:"year"}):ne(o,s.length)},R:function(e,s){const r=so(e);return ne(r,s.length)},u:function(e,s){const r=e.getFullYear();return ne(r,s.length)},Q:function(e,s,r){const n=Math.ceil((e.getMonth()+1)/3);switch(s){case"Q":return String(n);case"QQ":return ne(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,s,r){const n=Math.ceil((e.getMonth()+1)/3);switch(s){case"q":return String(n);case"qq":return ne(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,s,r){const n=e.getMonth();switch(s){case"M":case"MM":return it.M(e,s);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,s,r){const n=e.getMonth();switch(s){case"L":return String(n+1);case"LL":return ne(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,s,r,n){const a=Kd(e,n);return s==="wo"?r.ordinalNumber(a,{unit:"week"}):ne(a,s.length)},I:function(e,s,r){const n=Yd(e);return s==="Io"?r.ordinalNumber(n,{unit:"week"}):ne(n,s.length)},d:function(e,s,r){return s==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):it.d(e,s)},D:function(e,s,r){const n=Ud(e);return s==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ne(n,s.length)},E:function(e,s,r){const n=e.getDay();switch(s){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,s,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(s){case"e":return String(o);case"ee":return ne(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,s,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(s){case"c":return String(o);case"cc":return ne(o,s.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,s,r){const n=e.getDay(),a=n===0?7:n;switch(s){case"i":return String(a);case"ii":return ne(a,s.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,s,r){const a=e.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,s,r){const n=e.getHours();let a;switch(n===12?a=Pt.noon:n===0?a=Pt.midnight:a=n/12>=1?"pm":"am",s){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,s,r){const n=e.getHours();let a;switch(n>=17?a=Pt.evening:n>=12?a=Pt.afternoon:n>=4?a=Pt.morning:a=Pt.night,s){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,s,r){if(s==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return it.h(e,s)},H:function(e,s,r){return s==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):it.H(e,s)},K:function(e,s,r){const n=e.getHours()%12;return s==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ne(n,s.length)},k:function(e,s,r){let n=e.getHours();return n===0&&(n=24),s==="ko"?r.ordinalNumber(n,{unit:"hour"}):ne(n,s.length)},m:function(e,s,r){return s==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):it.m(e,s)},s:function(e,s,r){return s==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):it.s(e,s)},S:function(e,s){return it.S(e,s)},X:function(e,s,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(s){case"X":return un(n);case"XXXX":case"XX":return gt(n);case"XXXXX":case"XXX":default:return gt(n,":")}},x:function(e,s,r){const n=e.getTimezoneOffset();switch(s){case"x":return un(n);case"xxxx":case"xx":return gt(n);case"xxxxx":case"xxx":default:return gt(n,":")}},O:function(e,s,r){const n=e.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+dn(n,":");case"OOOO":default:return"GMT"+gt(n,":")}},z:function(e,s,r){const n=e.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+dn(n,":");case"zzzz":default:return"GMT"+gt(n,":")}},t:function(e,s,r){const n=Math.trunc(e.getTime()/1e3);return ne(n,s.length)},T:function(e,s,r){const n=e.getTime();return ne(n,s.length)}};function dn(e,s=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),o=n%60;return o===0?r+String(a):r+String(a)+s+ne(o,2)}function un(e,s){return e%60===0?(e>0?"-":"+")+ne(Math.abs(e)/60,2):gt(e,s)}function gt(e,s=""){const r=e>0?"-":"+",n=Math.abs(e),a=ne(Math.trunc(n/60),2),o=ne(n%60,2);return r+a+s+o}const fn=(e,s)=>{switch(e){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},no=(e,s)=>{switch(e){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},Qd=(e,s)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return fn(e,s);let o;switch(n){case"P":o=s.dateTime({width:"short"});break;case"PP":o=s.dateTime({width:"medium"});break;case"PPP":o=s.dateTime({width:"long"});break;case"PPPP":default:o=s.dateTime({width:"full"});break}return o.replace("{{date}}",fn(n,s)).replace("{{time}}",no(a,s))},Xd={p:no,P:Qd},Gd=/^D+$/,Jd=/^Y+$/,Zd=["D","DD","YY","YYYY"];function eu(e){return Gd.test(e)}function tu(e){return Jd.test(e)}function su(e,s,r){const n=ru(e,s,r);if(console.warn(n),Zd.includes(e))throw new RangeError(n)}function ru(e,s,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${s}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nu=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,au=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ou=/^'([^]*?)'?$/,iu=/''/g,cu=/[a-zA-Z]/;function os(e,s,r){var f,x,g,y;const n=Ds(),a=n.locale??Hd,o=n.firstWeekContainsDate??((x=(f=n.locale)==null?void 0:f.options)==null?void 0:x.firstWeekContainsDate)??1,i=n.weekStartsOn??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,c=qe(e);if(!dd(c))throw new RangeError("Invalid time value");let u=s.match(au).map(v=>{const p=v[0];if(p==="p"||p==="P"){const b=Xd[p];return b(v,a.formatLong)}return v}).join("").match(nu).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const p=v[0];if(p==="'")return{isToken:!1,value:lu(v)};if(ln[p])return{isToken:!0,value:v};if(p.match(cu))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(u=a.localize.preprocessor(c,u));const d={firstWeekContainsDate:o,weekStartsOn:i,locale:a};return u.map(v=>{if(!v.isToken)return v.value;const p=v.value;(tu(p)||eu(p))&&su(p,s,String(e));const b=ln[p[0]];return b(c,p,a.localize,d)}).join("")}function lu(e){const s=e.match(ou);return s?s[1].replace(iu,"'"):e}function du(){const{toast:e}=Be(),[s,r]=l.useState("inventory"),[n,a]=l.useState(os(new Date().setDate(new Date().getDate()-30),"yyyy-MM-dd")),[o,i]=l.useState(os(new Date,"yyyy-MM-dd")),{data:c,isLoading:u}=Mt({queryKey:["reports",s,n,o],queryFn:async()=>{const f=await fetch(`http://localhost:3001/api/reports?type=${s}&startDate=${n}&endDate=${o}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!f.ok)throw new Error("보고서를 불러오는데 실패했습니다.");return f.json()}}),d=async()=>{try{const f=await fetch(`http://localhost:3001/api/reports/export?type=${s}&startDate=${n}&endDate=${o}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!f.ok)throw new Error("보고서 내보내기에 실패했습니다.");const x=await f.blob(),g=window.URL.createObjectURL(x),y=document.createElement("a");y.href=g,y.download=`${s}-report-${os(new Date,"yyyy-MM-dd")}.xlsx`,document.body.appendChild(y),y.click(),window.URL.revokeObjectURL(g),document.body.removeChild(y),e("보고서가 성공적으로 내보내졌습니다.","success")}catch(f){e(f instanceof Error?f.message:"보고서 내보내기에 실패했습니다.","error")}};return t.jsxs("div",{className:"container mx-auto p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold",children:"보고서"}),t.jsx(xe,{onClick:d,children:"내보내기"})]}),t.jsx("div",{className:"grid gap-6 mb-6",children:t.jsxs("div",{className:"flex gap-4",children:[t.jsxs(td,{value:s,onValueChange:f=>r(f),children:[t.jsx(Ga,{className:"w-[200px]",children:t.jsx(sd,{placeholder:"보고서 유형 선택"})}),t.jsxs(eo,{children:[t.jsx(Zs,{value:"inventory",children:"재고 보고서"}),t.jsx(Zs,{value:"movement",children:"이동 보고서"})]})]}),t.jsx(le,{type:"date",value:n,onChange:f=>a(f.target.value),className:"w-[200px]"}),t.jsx(le,{type:"date",value:o,onChange:f=>i(f.target.value),className:"w-[200px]"})]})}),u?t.jsx("div",{children:"로딩 중..."}):s==="inventory"?t.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[t.jsxs(se,{children:[t.jsx(me,{children:t.jsx(he,{children:"총 제품 수"})}),t.jsx(ae,{children:t.jsxs("p",{className:"text-2xl font-bold",children:[c==null?void 0:c.totalProducts.toLocaleString(),"개"]})})]}),t.jsxs(se,{children:[t.jsx(me,{children:t.jsx(he,{children:"부족 재고 제품"})}),t.jsx(ae,{children:t.jsxs("p",{className:"text-2xl font-bold",children:[c==null?void 0:c.lowStockProducts.toLocaleString(),"개"]})})]}),t.jsxs(se,{children:[t.jsx(me,{children:t.jsx(he,{children:"총 재고 가치"})}),t.jsx(ae,{children:t.jsxs("p",{className:"text-2xl font-bold",children:[c==null?void 0:c.totalValue.toLocaleString(),"원"]})})]}),t.jsxs(se,{className:"md:col-span-2 lg:col-span-3",children:[t.jsx(me,{children:t.jsx(he,{children:"카테고리별 분포"})}),t.jsx(ae,{children:t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:c==null?void 0:c.categoryDistribution.map(f=>t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:f.category}),t.jsxs("span",{className:"font-bold",children:[f.count.toLocaleString(),"개"]})]},f.category))})})]}),t.jsxs(se,{className:"md:col-span-2 lg:col-span-3",children:[t.jsx(me,{children:t.jsx(he,{children:"위치별 분포"})}),t.jsx(ae,{children:t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:c==null?void 0:c.locationDistribution.map(f=>t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:f.location}),t.jsxs("span",{className:"font-bold",children:[f.count.toLocaleString(),"개"]})]},f.location))})})]})]}):t.jsxs(se,{children:[t.jsx(me,{children:t.jsx(he,{children:"최근 이동 내역"})}),t.jsx(ae,{children:t.jsx("div",{className:"space-y-4",children:c==null?void 0:c.recentMovements.map(f=>t.jsxs("div",{className:"flex justify-between items-center p-4 border rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-bold",children:f.productName}),t.jsx("p",{className:"text-sm text-gray-500",children:f.type==="adjust"?`재고 조정: ${f.quantity}개`:`위치 이동: ${f.fromLocation} → ${f.toLocation}`})]}),t.jsx("p",{className:"text-sm text-gray-500",children:os(new Date(f.timestamp),"yyyy-MM-dd HH:mm")})]},f.id))})})]})]})}var Is="Switch",[uu,cf]=Ss(Is),[fu,mu]=uu(Is),ao=l.forwardRef((e,s)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:o,required:i,disabled:c,value:u="on",onCheckedChange:d,form:f,...x}=e,[g,y]=l.useState(null),v=Ce(s,j=>y(j)),p=l.useRef(!1),b=g?f||!!g.closest("form"):!0,[N,m]=fs({prop:a,defaultProp:o??!1,onChange:d,caller:Is});return t.jsxs(fu,{scope:r,checked:N,disabled:c,children:[t.jsx(de.button,{type:"button",role:"switch","aria-checked":N,"aria-required":i,"data-state":lo(N),"data-disabled":c?"":void 0,disabled:c,value:u,...x,ref:v,onClick:oe(e.onClick,j=>{m(P=>!P),b&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),b&&t.jsx(co,{control:g,bubbles:!p.current,name:n,value:u,checked:N,required:i,disabled:c,form:f,style:{transform:"translateX(-100%)"}})]})});ao.displayName=Is;var oo="SwitchThumb",io=l.forwardRef((e,s)=>{const{__scopeSwitch:r,...n}=e,a=mu(oo,r);return t.jsx(de.span,{"data-state":lo(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:s})});io.displayName=oo;var hu="SwitchBubbleInput",co=l.forwardRef(({__scopeSwitch:e,control:s,checked:r,bubbles:n=!0,...a},o)=>{const i=l.useRef(null),c=Ce(i,o),u=ha(r),d=ra(s);return l.useEffect(()=>{const f=i.current;if(!f)return;const x=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(x,"checked").set;if(u!==r&&y){const v=new Event("click",{bubbles:n});y.call(f,r),f.dispatchEvent(v)}},[u,r,n]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:c,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});co.displayName=hu;function lo(e){return e?"checked":"unchecked"}var uo=ao,xu=io;const Ze=l.forwardRef(({className:e,...s},r)=>t.jsx(uo,{className:ie("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:r,children:t.jsx(xu,{className:ie("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ze.displayName=uo.displayName;function pu(){const{toast:e}=Be(),{user:s}=ut(),[r,n]=l.useState({notifications:{email:!0,push:!0,lowStock:!0},display:{darkMode:!1,compactView:!1,showImages:!0},export:{includeImages:!0,includeHistory:!0,format:"xlsx"}}),a=async()=>{try{if(!(await fetch("http://localhost:3001/api/settings",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(r)})).ok)throw new Error("설정 저장에 실패했습니다.");e("설정이 저장되었습니다.","success")}catch(o){e(o instanceof Error?o.message:"설정 저장에 실패했습니다.","error")}};return t.jsxs("div",{className:"container mx-auto p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold",children:"설정"}),t.jsx(xe,{onClick:a,children:"저장"})]}),t.jsxs("div",{className:"grid gap-6",children:[t.jsxs(se,{children:[t.jsx(me,{children:t.jsx(he,{children:"알림 설정"})}),t.jsxs(ae,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"email-notifications",children:"이메일 알림"}),t.jsx(Ze,{id:"email-notifications",checked:r.notifications.email,onCheckedChange:o=>n(i=>({...i,notifications:{...i.notifications,email:o}}))})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"push-notifications",children:"푸시 알림"}),t.jsx(Ze,{id:"push-notifications",checked:r.notifications.push,onCheckedChange:o=>n(i=>({...i,notifications:{...i.notifications,push:o}}))})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"low-stock-notifications",children:"재고 부족 알림"}),t.jsx(Ze,{id:"low-stock-notifications",checked:r.notifications.lowStock,onCheckedChange:o=>n(i=>({...i,notifications:{...i.notifications,lowStock:o}}))})]})]})]}),t.jsxs(se,{children:[t.jsx(me,{children:t.jsx(he,{children:"화면 설정"})}),t.jsxs(ae,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"dark-mode",children:"다크 모드"}),t.jsx(Ze,{id:"dark-mode",checked:r.display.darkMode,onCheckedChange:o=>n(i=>({...i,display:{...i.display,darkMode:o}}))})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"compact-view",children:"간단 보기"}),t.jsx(Ze,{id:"compact-view",checked:r.display.compactView,onCheckedChange:o=>n(i=>({...i,display:{...i.display,compactView:o}}))})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"show-images",children:"이미지 표시"}),t.jsx(Ze,{id:"show-images",checked:r.display.showImages,onCheckedChange:o=>n(i=>({...i,display:{...i.display,showImages:o}}))})]})]})]}),t.jsxs(se,{children:[t.jsx(me,{children:t.jsx(he,{children:"내보내기 설정"})}),t.jsxs(ae,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"include-images",children:"이미지 포함"}),t.jsx(Ze,{id:"include-images",checked:r.export.includeImages,onCheckedChange:o=>n(i=>({...i,export:{...i.export,includeImages:o}}))})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"include-history",children:"이력 포함"}),t.jsx(Ze,{id:"include-history",checked:r.export.includeHistory,onCheckedChange:o=>n(i=>({...i,export:{...i.export,includeHistory:o}}))})]})]})]})]})]})}const gu=()=>{const{toast:e}=Be(),[s,r]=l.useState([]),[n,a]=l.useState(""),[o,i]=l.useState(""),[c,u]=l.useState(!1),[d,f]=l.useState(!1),[x,g]=l.useState(!0);l.useEffect(()=>{y()},[]);const y=async()=>{try{g(!0);const m=await Ve.getProducts();r(m)}catch(m){console.error("제품 데이터 로드 오류:",m),e("제품 데이터를 불러오는데 실패했습니다.","error")}finally{g(!1)}},v=async()=>{if(s.length===0){e("분석할 제품 데이터가 없습니다.","error");return}u(!0);try{const m=await ps.getInventoryOptimization(s);a(m),e("재고 분석이 완료되었습니다.","success")}catch(m){console.error("재고 분석 오류:",m),e("재고 분석에 실패했습니다.","error")}finally{u(!1)}},p=async()=>{if(s.length===0){e("분석할 제품 데이터가 없습니다.","error");return}f(!0);try{const m=s.map(P=>({name:P.name,category:P.category,currentStock:P.quantity,safetyStock:P.safetyStock,price:P.price,estimatedMonthlySales:Math.max(0,P.safetyStock-P.quantity+Math.floor(Math.random()*50))})),j=await ps.getSalesAnalysis(m);i(j),e("판매 분석이 완료되었습니다.","success")}catch(m){console.error("판매 분석 오류:",m),e("판매 분석에 실패했습니다.","error")}finally{f(!1)}},N=(()=>{const m=s.filter(S=>S.quantity<=S.safetyStock).length,j=s.filter(S=>S.quantity>S.safetyStock*3).length,P=s.reduce((S,O)=>S+O.quantity*O.price,0);return{lowStock:m,overStock:j,totalValue:P,totalProducts:s.length}})();return t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx(At,{className:"h-6 w-6 mr-3 text-kyobo"}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AI 인사이트"}),t.jsxs(xe,{variant:"outline",size:"sm",onClick:y,disabled:x,className:"ml-auto",children:[x?t.jsx(Pe,{className:"h-4 w-4 animate-spin mr-2"}):t.jsx(ci,{className:"h-4 w-4 mr-2"}),"새로고침"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[t.jsx(se,{children:t.jsx(ae,{className:"p-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(yt,{className:"h-8 w-8 text-blue-500"}),t.jsxs("div",{className:"ml-3",children:[t.jsx("p",{className:"text-sm font-medium text-gray-500",children:"전체 제품"}),t.jsx("p",{className:"text-2xl font-bold",children:N.totalProducts})]})]})})}),t.jsx(se,{children:t.jsx(ae,{className:"p-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Et,{className:"h-8 w-8 text-red-500"}),t.jsxs("div",{className:"ml-3",children:[t.jsx("p",{className:"text-sm font-medium text-gray-500",children:"부족 재고"}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:N.lowStock})]})]})})}),t.jsx(se,{children:t.jsx(ae,{className:"p-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(yt,{className:"h-8 w-8 text-orange-500"}),t.jsxs("div",{className:"ml-3",children:[t.jsx("p",{className:"text-sm font-medium text-gray-500",children:"과다 재고"}),t.jsx("p",{className:"text-2xl font-bold text-orange-600",children:N.overStock})]})]})})}),t.jsx(se,{children:t.jsx(ae,{className:"p-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Et,{className:"h-8 w-8 text-green-500"}),t.jsxs("div",{className:"ml-3",children:[t.jsx("p",{className:"text-sm font-medium text-gray-500",children:"총 재고 가치"}),t.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["₩",N.totalValue.toLocaleString()]})]})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(se,{children:[t.jsx(me,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(he,{className:"flex items-center",children:[t.jsx(yt,{className:"h-5 w-5 mr-2"}),"재고 최적화 분석"]}),t.jsxs(xe,{onClick:v,disabled:c||s.length===0,size:"sm",children:[c?t.jsx(Pe,{className:"h-4 w-4 animate-spin mr-2"}):t.jsx(At,{className:"h-4 w-4 mr-2"}),"AI 분석"]})]})}),t.jsx(ae,{children:n?t.jsx("div",{className:"prose prose-sm max-w-none",children:t.jsx("div",{className:"whitespace-pre-wrap text-gray-700",children:n})}):t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(yt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"AI 분석 버튼을 클릭하여 재고 최적화 제안을 받아보세요."})]})})]}),t.jsxs(se,{children:[t.jsx(me,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(he,{className:"flex items-center",children:[t.jsx(Et,{className:"h-5 w-5 mr-2"}),"판매 예측 분석"]}),t.jsxs(xe,{onClick:p,disabled:d||s.length===0,size:"sm",children:[d?t.jsx(Pe,{className:"h-4 w-4 animate-spin mr-2"}):t.jsx(At,{className:"h-4 w-4 mr-2"}),"AI 분석"]})]})}),t.jsx(ae,{children:o?t.jsx("div",{className:"prose prose-sm max-w-none",children:t.jsx("div",{className:"whitespace-pre-wrap text-gray-700",children:o})}):t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(Et,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"AI 분석 버튼을 클릭하여 판매 예측과 인사이트를 받아보세요."})]})})]})]}),t.jsxs(se,{className:"mt-6",children:[t.jsx(me,{children:t.jsxs(he,{className:"flex items-center",children:[t.jsx(At,{className:"h-5 w-5 mr-2"}),"AI 기능 안내"]})}),t.jsx(ae,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[t.jsx(yt,{className:"h-8 w-8 mx-auto mb-2 text-blue-500"}),t.jsx("h3",{className:"font-semibold mb-2",children:"재고 최적화"}),t.jsx("p",{className:"text-sm text-gray-600",children:"현재 재고 상황을 분석하여 최적화 방안을 제안합니다."})]}),t.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[t.jsx(Et,{className:"h-8 w-8 mx-auto mb-2 text-green-500"}),t.jsx("h3",{className:"font-semibold mb-2",children:"판매 예측"}),t.jsx("p",{className:"text-sm text-gray-600",children:"과거 데이터를 바탕으로 미래 판매를 예측하고 분석합니다."})]}),t.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[t.jsx(At,{className:"h-8 w-8 mx-auto mb-2 text-purple-500"}),t.jsx("h3",{className:"font-semibold mb-2",children:"스마트 제안"}),t.jsx("p",{className:"text-sm text-gray-600",children:"AI가 비즈니스 성장을 위한 실행 가능한 제안을 제공합니다."})]})]})})]})]})};function yu(){const{user:e,logout:s}=ut();return t.jsx("nav",{className:"sticky top-0 z-40 w-full border-b border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-800",children:t.jsx("div",{className:"px-4 py-3 lg:px-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(xe,{variant:"ghost",size:"icon",className:"mr-2 md:hidden","aria-label":"메뉴 열기",children:t.jsx(li,{className:"h-5 w-5"})}),t.jsx("span",{className:"text-xl font-semibold",children:"교보문고 재고관리"})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(xe,{variant:"ghost",size:"icon",children:t.jsx(di,{className:"h-5 w-5"})}),t.jsxs("div",{className:"relative",children:[t.jsx(xe,{variant:"ghost",size:"icon",children:t.jsx(ui,{className:"h-5 w-5"})}),t.jsxs("div",{className:"absolute right-0 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 dark:bg-gray-700",children:[t.jsxs("div",{className:"px-4 py-2",children:[t.jsx("p",{className:"text-sm",children:e==null?void 0:e.name}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e==null?void 0:e.email})]}),t.jsx("hr",{className:"my-1 border-gray-200 dark:border-gray-600"}),t.jsx("button",{onClick:()=>s(),className:"block w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-600",children:"로그아웃"})]})]})]})]})})})}const vu=()=>{const{user:e}=ut();return t.jsx("aside",{className:"hidden md:flex flex-col w-64 min-h-screen bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700",children:t.jsx("div",{className:"flex-1 px-3 py-4",children:t.jsxs("nav",{className:"space-y-1",children:[t.jsxs(Ge,{to:"/",className:({isActive:s})=>`flex items-center px-3 py-2 text-sm font-medium rounded-md ${s?"bg-gray-100 text-gray-900 dark:bg-gray-700 dark:text-white":"text-gray-700 hover:bg-gray-50 dark:text-gray-200 dark:hover:bg-gray-700"}`,children:[t.jsx(xn,{className:"w-5 h-5 mr-3"}),"대시보드"]}),t.jsxs(Ge,{to:"/products",className:({isActive:s})=>`flex items-center px-3 py-2 text-sm font-medium rounded-md ${s?"bg-gray-100 text-gray-900 dark:bg-gray-700 dark:text-white":"text-gray-700 hover:bg-gray-50 dark:text-gray-200 dark:hover:bg-gray-700"}`,children:[t.jsx(yt,{className:"w-5 h-5 mr-3"}),"제품 관리"]}),t.jsxs(Ge,{to:"/barcode",className:({isActive:s})=>`flex items-center px-3 py-2 text-sm font-medium rounded-md ${s?"bg-gray-100 text-gray-900 dark:bg-gray-700 dark:text-white":"text-gray-700 hover:bg-gray-50 dark:text-gray-200 dark:hover:bg-gray-700"}`,children:[t.jsx(fi,{className:"w-5 h-5 mr-3"}),"바코드 스캔"]}),t.jsxs(Ge,{to:"/products/bulk-upload",className:({isActive:s})=>`flex items-center px-3 py-2 text-sm font-medium rounded-md ${s?"bg-gray-100 text-gray-900 dark:bg-gray-700 dark:text-white":"text-gray-700 hover:bg-gray-50 dark:text-gray-200 dark:hover:bg-gray-700"}`,children:[t.jsx(wn,{className:"w-5 h-5 mr-3"}),"대량 업로드"]}),t.jsxs(Ge,{to:"/products",className:({isActive:s})=>`flex items-center px-3 py-2 text-sm font-medium rounded-md ${s?"bg-gray-100 text-gray-900 dark:bg-gray-700 dark:text-white":"text-gray-700 hover:bg-gray-50 dark:text-gray-200 dark:hover:bg-gray-700"}`,children:[t.jsx(mi,{className:"w-5 h-5 mr-3"}),"위치 이동"]}),t.jsxs(Ge,{to:"/reports",className:({isActive:s})=>`flex items-center px-3 py-2 text-sm font-medium rounded-md ${s?"bg-gray-100 text-gray-900 dark:bg-gray-700 dark:text-white":"text-gray-700 hover:bg-gray-50 dark:text-gray-200 dark:hover:bg-gray-700"}`,children:[t.jsx(hi,{className:"w-5 h-5 mr-3"}),"보고서"]}),t.jsxs(Ge,{to:"/ai-insights",className:({isActive:s})=>`flex items-center px-3 py-2 text-sm font-medium rounded-md ${s?"bg-gray-100 text-gray-900 dark:bg-gray-700 dark:text-white":"text-gray-700 hover:bg-gray-50 dark:text-gray-200 dark:hover:bg-gray-700"}`,children:[t.jsx(At,{className:"w-5 h-5 mr-3"}),"AI 인사이트"]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="ADMIN")&&t.jsxs(Ge,{to:"/admin",className:({isActive:s})=>`flex items-center px-3 py-2 text-sm font-medium rounded-md ${s?"bg-gray-100 text-gray-900 dark:bg-gray-700 dark:text-white":"text-gray-700 hover:bg-gray-50 dark:text-gray-200 dark:hover:bg-gray-700"}`,children:[t.jsx(xi,{className:"w-5 h-5 mr-3"}),"관리자"]}),t.jsxs(Ge,{to:"/settings",className:({isActive:s})=>`flex items-center px-3 py-2 text-sm font-medium rounded-md ${s?"bg-gray-100 text-gray-900 dark:bg-gray-700 dark:text-white":"text-gray-700 hover:bg-gray-50 dark:text-gray-200 dark:hover:bg-gray-700"}`,children:[t.jsx(jn,{className:"w-5 h-5 mr-3"}),"설정"]})]})})})};function bu(){return t.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900",children:[t.jsx(yu,{}),t.jsxs("div",{className:"flex",children:[t.jsx(vu,{}),t.jsx("main",{className:"flex-1 p-4 md:p-6 max-w-7xl mx-auto",children:t.jsx("div",{className:"rounded-lg bg-white dark:bg-gray-800 p-4 md:p-6 shadow-sm",children:t.jsx(wi,{})})})]})]})}const wu=()=>t.jsx("div",{className:"flex items-center justify-center h-screen",children:t.jsx("p",{className:"text-gray-500",children:"페이지를 찾을 수 없습니다."})}),ju=({children:e})=>{const{isAuthenticated:s,loading:r}=An();return r?t.jsx("div",{children:"Loading..."}):s?t.jsx(t.Fragment,{children:e}):t.jsx(Cn,{to:"/login"})},Nu=({children:e})=>{const{isAuthenticated:s,loading:r}=An();return r?t.jsx("div",{children:"Loading..."}):s?t.jsx(Cn,{to:"/"}):t.jsx(t.Fragment,{children:e})};function Su(){return t.jsxs(ji,{children:[t.jsx(Se,{path:"/login",element:t.jsx(Nu,{children:t.jsx(Gi,{})})}),t.jsxs(Se,{path:"/",element:t.jsx(ju,{children:t.jsx(bu,{})}),children:[t.jsx(Se,{index:!0,element:t.jsx(ec,{})}),t.jsx(Se,{path:"barcode",element:t.jsx(dc,{})}),t.jsxs(Se,{path:"products",children:[t.jsx(Se,{index:!0,element:t.jsx(tc,{})}),t.jsx(Se,{path:"new",element:t.jsx(oc,{})}),t.jsx(Se,{path:"bulk-upload",element:t.jsx(ic,{})}),t.jsx(Se,{path:":id",element:t.jsx(ac,{})}),t.jsx(Se,{path:":id/adjust",element:t.jsx(cc,{})}),t.jsx(Se,{path:":id/move",element:t.jsx(lc,{})})]}),t.jsx(Se,{path:"admin",element:t.jsx(hc,{})}),t.jsx(Se,{path:"reports",element:t.jsx(du,{})}),t.jsx(Se,{path:"ai-insights",element:t.jsx(gu,{})}),t.jsx(Se,{path:"settings",element:t.jsx(pu,{})})]}),t.jsx(Se,{path:"*",element:t.jsx(wu,{})})]})}function ku(){return t.jsx(Su,{})}var Sr="ToastProvider",[kr,Cu,Tu]=Nn("Toast"),[fo,lf]=Ss("Toast",[Tu]),[Pu,Os]=fo(Sr),mo=e=>{const{__scopeToast:s,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=e,[c,u]=l.useState(null),[d,f]=l.useState(0),x=l.useRef(!1),g=l.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Sr}\`. Expected non-empty \`string\`.`),t.jsx(kr.Provider,{scope:s,children:t.jsx(Pu,{scope:s,label:r,duration:n,swipeDirection:a,swipeThreshold:o,toastCount:d,viewport:c,onViewportChange:u,onToastAdd:l.useCallback(()=>f(y=>y+1),[]),onToastRemove:l.useCallback(()=>f(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:g,children:i})})};mo.displayName=Sr;var ho="ToastViewport",Eu=["F8"],er="toast.viewportPause",tr="toast.viewportResume",xo=l.forwardRef((e,s)=>{const{__scopeToast:r,hotkey:n=Eu,label:a="Notifications ({hotkey})",...o}=e,i=Os(ho,r),c=Cu(r),u=l.useRef(null),d=l.useRef(null),f=l.useRef(null),x=l.useRef(null),g=Ce(s,x,i.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;l.useEffect(()=>{const b=N=>{var j;n.length!==0&&n.every(P=>N[P]||N.code===P)&&((j=x.current)==null||j.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),l.useEffect(()=>{const b=u.current,N=x.current;if(v&&b&&N){const m=()=>{if(!i.isClosePausedRef.current){const O=new CustomEvent(er);N.dispatchEvent(O),i.isClosePausedRef.current=!0}},j=()=>{if(i.isClosePausedRef.current){const O=new CustomEvent(tr);N.dispatchEvent(O),i.isClosePausedRef.current=!1}},P=O=>{!b.contains(O.relatedTarget)&&j()},S=()=>{b.contains(document.activeElement)||j()};return b.addEventListener("focusin",m),b.addEventListener("focusout",P),b.addEventListener("pointermove",m),b.addEventListener("pointerleave",S),window.addEventListener("blur",m),window.addEventListener("focus",j),()=>{b.removeEventListener("focusin",m),b.removeEventListener("focusout",P),b.removeEventListener("pointermove",m),b.removeEventListener("pointerleave",S),window.removeEventListener("blur",m),window.removeEventListener("focus",j)}}},[v,i.isClosePausedRef]);const p=l.useCallback(({tabbingDirection:b})=>{const m=c().map(j=>{const P=j.ref.current,S=[P,...Bu(P)];return b==="forwards"?S:S.reverse()});return(b==="forwards"?m.reverse():m).flat()},[c]);return l.useEffect(()=>{const b=x.current;if(b){const N=m=>{var S,O,D;const j=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!j){const H=document.activeElement,Y=m.shiftKey;if(m.target===b&&Y){(S=d.current)==null||S.focus();return}const I=p({tabbingDirection:Y?"backwards":"forwards"}),M=I.findIndex(E=>E===H);Ws(I.slice(M+1))?m.preventDefault():Y?(O=d.current)==null||O.focus():(D=f.current)==null||D.focus()}};return b.addEventListener("keydown",N),()=>b.removeEventListener("keydown",N)}},[c,p]),t.jsxs(pi,{ref:u,role:"region","aria-label":a.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&t.jsx(sr,{ref:d,onFocusFromOutsideViewport:()=>{const b=p({tabbingDirection:"forwards"});Ws(b)}}),t.jsx(kr.Slot,{scope:r,children:t.jsx(de.ol,{tabIndex:-1,...o,ref:g})}),v&&t.jsx(sr,{ref:f,onFocusFromOutsideViewport:()=>{const b=p({tabbingDirection:"backwards"});Ws(b)}})]})});xo.displayName=ho;var po="ToastFocusProxy",sr=l.forwardRef((e,s)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,o=Os(po,r);return t.jsx(jr,{"aria-hidden":!0,tabIndex:0,...a,ref:s,style:{position:"fixed"},onFocus:i=>{var d;const c=i.relatedTarget;!((d=o.viewport)!=null&&d.contains(c))&&n()}})});sr.displayName=po;var ts="Toast",Au="toast.swipeStart",Ru="toast.swipeMove",Du="toast.swipeCancel",Iu="toast.swipeEnd",go=l.forwardRef((e,s)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:o,...i}=e,[c,u]=fs({prop:n,defaultProp:a??!0,onChange:o,caller:ts});return t.jsx(gi,{present:r||c,children:t.jsx(_u,{open:c,...i,ref:s,onClose:()=>u(!1),onPause:Ot(e.onPause),onResume:Ot(e.onResume),onSwipeStart:oe(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(e.onSwipeMove,d=>{const{x:f,y:x}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:oe(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(e.onSwipeEnd,d=>{const{x:f,y:x}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),u(!1)})})})});go.displayName=ts;var[Ou,Mu]=fo(ts,{onClose(){}}),_u=l.forwardRef((e,s)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:c,onPause:u,onResume:d,onSwipeStart:f,onSwipeMove:x,onSwipeCancel:g,onSwipeEnd:y,...v}=e,p=Os(ts,r),[b,N]=l.useState(null),m=Ce(s,E=>N(E)),j=l.useRef(null),P=l.useRef(null),S=a||p.duration,O=l.useRef(0),D=l.useRef(S),H=l.useRef(0),{onToastAdd:Y,onToastRemove:K}=p,z=Ot(()=>{var V;(b==null?void 0:b.contains(document.activeElement))&&((V=p.viewport)==null||V.focus()),i()}),I=l.useCallback(E=>{!E||E===1/0||(window.clearTimeout(H.current),O.current=new Date().getTime(),H.current=window.setTimeout(z,E))},[z]);l.useEffect(()=>{const E=p.viewport;if(E){const V=()=>{I(D.current),d==null||d()},F=()=>{const q=new Date().getTime()-O.current;D.current=D.current-q,window.clearTimeout(H.current),u==null||u()};return E.addEventListener(er,F),E.addEventListener(tr,V),()=>{E.removeEventListener(er,F),E.removeEventListener(tr,V)}}},[p.viewport,S,u,d,I]),l.useEffect(()=>{o&&!p.isClosePausedRef.current&&I(S)},[o,S,p.isClosePausedRef,I]),l.useEffect(()=>(Y(),()=>K()),[Y,K]);const M=l.useMemo(()=>b?So(b):null,[b]);return p.viewport?t.jsxs(t.Fragment,{children:[M&&t.jsx(Fu,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),t.jsx(Ou,{scope:r,onClose:z,children:Jt.createPortal(t.jsx(kr.ItemSlot,{scope:r,children:t.jsx(yi,{asChild:!0,onEscapeKeyDown:oe(c,()=>{p.isFocusedToastEscapeKeyDownRef.current||z(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx(de.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":p.swipeDirection,...v,ref:m,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:oe(e.onKeyDown,E=>{E.key==="Escape"&&(c==null||c(E.nativeEvent),E.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:oe(e.onPointerDown,E=>{E.button===0&&(j.current={x:E.clientX,y:E.clientY})}),onPointerMove:oe(e.onPointerMove,E=>{if(!j.current)return;const V=E.clientX-j.current.x,F=E.clientY-j.current.y,q=!!P.current,$=["left","right"].includes(p.swipeDirection),X=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,ue=$?X(0,V):0,ge=$?0:X(0,F),we=E.pointerType==="touch"?10:2,je={x:ue,y:ge},W={originalEvent:E,delta:je};q?(P.current=je,is(Ru,x,W,{discrete:!1})):mn(je,p.swipeDirection,we)?(P.current=je,is(Au,f,W,{discrete:!1}),E.target.setPointerCapture(E.pointerId)):(Math.abs(V)>we||Math.abs(F)>we)&&(j.current=null)}),onPointerUp:oe(e.onPointerUp,E=>{const V=P.current,F=E.target;if(F.hasPointerCapture(E.pointerId)&&F.releasePointerCapture(E.pointerId),P.current=null,j.current=null,V){const q=E.currentTarget,$={originalEvent:E,delta:V};mn(V,p.swipeDirection,p.swipeThreshold)?is(Iu,y,$,{discrete:!0}):is(Du,g,$,{discrete:!0}),q.addEventListener("click",X=>X.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),Fu=e=>{const{__scopeToast:s,children:r,...n}=e,a=Os(ts,s),[o,i]=l.useState(!1),[c,u]=l.useState(!1);return $u(()=>i(!0)),l.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),c?null:t.jsx(Sn,{asChild:!0,children:t.jsx(jr,{...n,children:o&&t.jsxs(t.Fragment,{children:[a.label," ",r]})})})},Lu="ToastTitle",yo=l.forwardRef((e,s)=>{const{__scopeToast:r,...n}=e;return t.jsx(de.div,{...n,ref:s})});yo.displayName=Lu;var Vu="ToastDescription",vo=l.forwardRef((e,s)=>{const{__scopeToast:r,...n}=e;return t.jsx(de.div,{...n,ref:s})});vo.displayName=Vu;var bo="ToastAction",wo=l.forwardRef((e,s)=>{const{altText:r,...n}=e;return r.trim()?t.jsx(No,{altText:r,asChild:!0,children:t.jsx(Cr,{...n,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${bo}\`. Expected non-empty \`string\`.`),null)});wo.displayName=bo;var jo="ToastClose",Cr=l.forwardRef((e,s)=>{const{__scopeToast:r,...n}=e,a=Mu(jo,r);return t.jsx(No,{asChild:!0,children:t.jsx(de.button,{type:"button",...n,ref:s,onClick:oe(e.onClick,a.onClose)})})});Cr.displayName=jo;var No=l.forwardRef((e,s)=>{const{__scopeToast:r,altText:n,...a}=e;return t.jsx(de.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:s})});function So(e){const s=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&s.push(n.textContent),Wu(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&s.push(i)}else s.push(...So(n))}}),s}function is(e,s,r,{discrete:n}){const a=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});s&&a.addEventListener(e,s,{once:!0}),n?vi(a,o):a.dispatchEvent(o)}var mn=(e,s,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),o=n>a;return s==="left"||s==="right"?o&&n>r:!o&&a>r};function $u(e=()=>{}){const s=Ot(e);Me(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[s])}function Wu(e){return e.nodeType===e.ELEMENT_NODE}function Bu(e){const s=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function Ws(e){const s=document.activeElement;return e.some(r=>r===s?!0:(r.focus(),document.activeElement!==s))}var qu=mo,ko=xo,Co=go,To=yo,Po=vo,Eo=wo,Ao=Cr;const Hu=1,Uu=1e3;let Yu=0;const Bs=new Map,hn=e=>{if(Bs.has(e))return;const s=setTimeout(()=>{Bs.delete(e),rr({type:"REMOVE_TOAST",toastId:e})},Uu);Bs.set(e,s)},zu=(e,s)=>{switch(s.type){case"ADD_TOAST":return[s.toast,...e].slice(0,Hu);case"UPDATE_TOAST":return e.map(r=>r.id===s.toast.id?{...r,...s.toast}:r);case"DISMISS_TOAST":return s.toastId?hn(s.toastId):e.forEach(r=>hn(r.id)),e.map(r=>r.id===s.toastId||s.toastId===void 0?{...r,open:!1}:r);case"REMOVE_TOAST":return s.toastId===void 0?[]:e.filter(r=>r.id!==s.toastId);default:return e}},ds=[];let us=[];function rr(e){us=zu(us,e),ds.forEach(s=>s(us))}function Ku(){const[e,s]=l.useState(us);return l.useEffect(()=>(ds.push(s),()=>{const r=ds.indexOf(s);r>-1&&ds.splice(r,1)}),[e]),{toast:l.useCallback(r=>{const n=`${Yu++}`;return rr({type:"ADD_TOAST",toast:{id:n,open:!0,...r}}),n},[]),dismiss:l.useCallback(r=>rr({type:"DISMISS_TOAST",toastId:r}),[]),toasts:e}}const Qu=qu,Ro=l.forwardRef(({className:e,...s},r)=>t.jsx(ko,{ref:r,className:ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...s}));Ro.displayName=ko.displayName;const Xu=Bn("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Do=l.forwardRef(({className:e,variant:s,...r},n)=>t.jsx(Co,{ref:n,className:ie(Xu({variant:s}),e),...r}));Do.displayName=Co.displayName;const Gu=l.forwardRef(({className:e,...s},r)=>t.jsx(Eo,{ref:r,className:ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...s}));Gu.displayName=Eo.displayName;const Ju=l.forwardRef(({className:e,...s},r)=>t.jsx(Ao,{ref:r,className:ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...s,children:t.jsx(bi,{className:"h-4 w-4"})}));Ju.displayName=Ao.displayName;const Io=l.forwardRef(({className:e,...s},r)=>t.jsx(To,{ref:r,className:ie("text-sm font-semibold",e),...s}));Io.displayName=To.displayName;const Oo=l.forwardRef(({className:e,...s},r)=>t.jsx(Po,{ref:r,className:ie("text-sm opacity-90",e),...s}));Oo.displayName=Po.displayName;function Zu(){const{toasts:e}=Ku();return t.jsxs(Qu,{children:[e.map(function({id:s,title:r,description:n,action:a,...o}){return t.jsxs(Do,{...o,children:[r&&t.jsx(Io,{children:r}),n&&t.jsx(Oo,{children:n}),a]},s)}),t.jsx(Ro,{})]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js")});const ef=new Si;qs.createRoot(document.getElementById("root")).render(t.jsx(be.StrictMode,{children:t.jsx(Ni,{children:t.jsx(ki,{client:ef,children:t.jsx(Ti,{children:t.jsxs(Ei,{children:[t.jsx(ku,{}),t.jsx(Zu,{})]})})})})}));
